{"version":3,"sources":["webpack:///fermat.js","webpack:///webpack/bootstrap 11ba55158a9ce8f1c9a9","webpack:///./src/index.js","webpack:///../core.js/src/utilities.js","webpack:///./src/vector.js","webpack:///./src/combinatorics.js","webpack:///../core.js/src/arrays.js","webpack:///./src/arithmetic.js","webpack:///./src/complex.js","webpack:///./src/expression.js","webpack:///./src/geometry.js","webpack:///./src/matrix.js","webpack:///./src/number-theory.js","webpack:///./src/numeric.js","webpack:///./src/probability.js","webpack:///./src/statistics.js","webpack:///./src/units.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","global","_interopRequireDefault","obj","__esModule","default","_arithmetic","_arithmetic2","_bignum","_bignum2","_combinatorics","_combinatorics2","_complex","_complex2","_expression","_expression2","_geometry","_geometry2","_matrix","_matrix2","_numberTheory","_numberTheory2","_numeric","_numeric2","_probability","_probability2","_statistics","_statistics2","_units","_units2","_vector","_vector2","Fermat","Arithmetic","Bignum","Combinatorics","Complex","Expression","Geometry","Matrix","NumberTheory","Numeric","Probability","Statistics","Units","Vector","this","uid","Math","random","toString","substr","run","args","_this","Function","apply","isOneOf","x","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_len","arguments","length","values","Array","_key","_step","_iterator","Symbol","iterator","next","done","v","value","err","invert","result","keys","i","l","extend","first","_len2","others","_key2","key","hasOwnProperty","src","clamp","min","max","cache","fn","Map","_len3","_key3","argString","join","has","set","get","throttle","t","delay","repeat","_len4","_key4","setTimeout","template","variables","replace","val","y","format","string","templateFormats","shallowCopy","type","Number","valueOf","String","Boolean","Date","RegExp","M","each","deepCopyStoreLookup","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","deepCopyStore","item","deepCopyHelper","copy","isArray","push","Object","attr","deepCopy","shallowEquals","obj1","obj2","deepEquals","watch","prop","handler","getter","setter","newVal","oldVal","defineProperty","enumerable","configurable","unwatch","typeOf","isNaN","typeCache","match","typeRegexp","toLowerCase","isType","isString","isNumber","isInteger","isDate","prototype","isBoolean","isObject","slice","shift","number","_toConsumableArray","arr","arr2","from","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_get","_x2","_x3","_x4","_again","object","property","receiver","desc","parent","getOwnPropertyDescriptor","getPrototypeOf","_utilities","_Array","fill","q","scaled","map","scale","norm","total","squares","sqrt","v1","v2","a","b","add","n","d","permutations","permute","input","term","splice","usedChars","permArr","pop","_getSubsets","last","subsets","getSubsets","s","a2","myArr","results","filter","coinFlips","str","_utilitiesJs","_utilitiesJs2","factorial","NaN","binomial","k","coeff","getLength","array","tabulateWith","vals","newArgs","_arraySlice","concat","tabulate","z","indices","toArray","_arrayShift","list","step","unsliceable","arrays","maxLength","cumulative","intersect","a1","difference","length1","length2","outer","j","extendPrototype","reverse","saveEach","forEach","indexOf","every","some","extract","maxAbs","abs","range","clean","unique","without","chunk","chunks","lastChunk","count","_arrayPush","rotate","offset","start","end","flatten","flat","sortBy","sort","nearlyEquals","tolerance","sign","bound","Infinity","between","numberFormat","split","numRegex","test","toOrdinal","digits","fractionalDigits","floor","decimalPlaces","round","precision","factor","pow","roundTo","increment","roundTowardsZero","ceil","toFraction","decimal","rem","mod","log","re","im","c1","c2","complex","EPSILON","denominator","atan2","bracketsMatch","brackets","functions","+","-","*","/","!","^","[]","\"","strings","ExpressionFn","vars","newArg","evaluate","ExpressionVal","(","[","{","|","ExpressionParser","current","currentParser","currentBracket","currentFn","contains","Error","isReady","completed","complete","send","pushCurrent","trim","num","parser","expr","simplify","angle","phiA","phiC","phi","PI","same","unOriented","getGeoType","sameFn","isSame","lineCircleIntersect","linePolygonIntersect","rectRectIntersect","polygonPolygonIntersect","_x29","_x30","_arguments2","_again2","rest","Rect","toPolygon","lineIntersect","convexHull","travellingSalesman","dist","cities","minLength","minPath","path","_x26","_x27","_x28","origin","Point","identity","points","p1","p2","square","distance","project","xAxis","dot","normalVector","x0","y0","cos","sin","yAxis","w","mu","sx","sy","Line","l1","l2","x1","y1","x2","y2","almost","grad1","grad2","dx","dy","average","Bezier","q1","q2","cube","Ellipse","_Base","Base","Circle","_Ellipse","r","_Base2","h","Polygon","Square","_Rect","C","A","_Polygon","Triangle","point","line","unoriented","rect","r1","r2","circle","polygon","rows","columns","cols","newMatrix","isSquare","det","col","diagLeft","diagRight","row","m1","m2","productMV","transpose","productVM","productMM","gcd","_arguments","lcm","isPrime","_utilities2","smallPrimes","primeFactorisation","maxf","f","primeFactors","_arrays2","listPrimes","notMultiple","_arrays","bisect","lf","ls","hf","hs","cf","cs","shuffle","tmp","integer","intArray","weighted","setTotal","rand","curr","smart","smartRandomCache","bernoulli","poisson","L","exp","_k","uniform","normal","u1","u2","exponential","geometric","cauchy","rr","normalPDF","mean","median","sorted","mode","counts","modeCount","newCount","entries","variance","sum","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","stdDev","covariance","aX","aY","correlation","covarXY","stdDevX","stdDevY","rSquared","source","regression","sourceMean","residualSquares","totalSquares","linearRegression","sumX","sumY","sumXY","sumXSquared","meanX","meanY","to","fromUnit","toUnit","regexp","prefix","unit","prefixValue","prefixes","unitValue","units","unitOffset","define","name","da","G","T","P","E","Z","Y","u","in","ft","yd","mi","AA","power","sqin","sqft","sqyd","sqmi","m3","cup","pint","quart","gallon","barrel","g","ton","oz","lbm","mon","rad","deg","grad","cyc","K","degC","degF","mol","N","lbf","B","prefixRegexp","unitRegexp"],"mappings":"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","file":"fermat.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {// =============================================================================\n\t// Fermat.js\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\t\n\t'use strict';\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _arithmetic = __webpack_require__(5);\n\t\n\tvar _arithmetic2 = _interopRequireDefault(_arithmetic);\n\t\n\tvar _bignum = __webpack_require__(6);\n\t\n\tvar _bignum2 = _interopRequireDefault(_bignum);\n\t\n\tvar _combinatorics = __webpack_require__(3);\n\t\n\tvar _combinatorics2 = _interopRequireDefault(_combinatorics);\n\t\n\tvar _complex = __webpack_require__(7);\n\t\n\tvar _complex2 = _interopRequireDefault(_complex);\n\t\n\tvar _expression = __webpack_require__(8);\n\t\n\tvar _expression2 = _interopRequireDefault(_expression);\n\t\n\tvar _geometry = __webpack_require__(9);\n\t\n\tvar _geometry2 = _interopRequireDefault(_geometry);\n\t\n\tvar _matrix = __webpack_require__(10);\n\t\n\tvar _matrix2 = _interopRequireDefault(_matrix);\n\t\n\tvar _numberTheory = __webpack_require__(11);\n\t\n\tvar _numberTheory2 = _interopRequireDefault(_numberTheory);\n\t\n\tvar _numeric = __webpack_require__(12);\n\t\n\tvar _numeric2 = _interopRequireDefault(_numeric);\n\t\n\tvar _probability = __webpack_require__(13);\n\t\n\tvar _probability2 = _interopRequireDefault(_probability);\n\t\n\tvar _statistics = __webpack_require__(14);\n\t\n\tvar _statistics2 = _interopRequireDefault(_statistics);\n\t\n\tvar _units = __webpack_require__(15);\n\t\n\tvar _units2 = _interopRequireDefault(_units);\n\t\n\tvar _vector = __webpack_require__(2);\n\t\n\tvar _vector2 = _interopRequireDefault(_vector);\n\t\n\tglobal.Fermat = {\n\t    Arithmetic: _arithmetic2['default'], Bignum: _bignum2['default'], Combinatorics: _combinatorics2['default'], Complex: _complex2['default'], Expression: _expression2['default'], Geometry: _geometry2['default'], Matrix: _matrix2['default'],\n\t    NumberTheory: _numberTheory2['default'], Numeric: _numeric2['default'], Probability: _probability2['default'], Statistics: _statistics2['default'], Units: _units2['default'], Vector: _vector2['default']\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// =================================================================================================\n\t// CORE LIBRARY\n\t// Mathigon | Classify.js\n\t// (c) 2015 Mathigon\n\t// =================================================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tvar _arrayPush = Array.prototype.push;\n\tvar _arraySlice = Array.prototype.slice;\n\tvar _arrayShift = Array.prototype.shift;\n\tvar _arrayJoin = Array.prototype.join;\n\t\n\t// -------------------------------------------------------------------------------------------------\n\t// Utility Functions\n\t\n\t// Generates a random ID string\n\tfunction uid() {\n\t    return Math.random().toString(36).substr(2, 10);\n\t}\n\t\n\tfunction run(obj, args, _this) {\n\t    if (obj instanceof Function) {\n\t        return obj.apply(_this || null, args);\n\t    }\n\t    return obj;\n\t}\n\t\n\t// Checks if x is strictly equal to any one of the following arguments\n\tfunction isOneOf(x) {\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _len = arguments.length, values = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t            values[_key - 1] = arguments[_key];\n\t        }\n\t\n\t        for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var v = _step.value;\n\t\n\t            if (x === v) return true;\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                _iterator['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\t// Swaps keys and values for an object\n\tfunction invert(obj) {\n\t    // SANE modified object\n\t    var result = {};\n\t    var keys = obj.keys();\n\t    for (var i = 0, l = keys.length; i < l; ++i) {\n\t        result[obj[keys[i]]] = keys[i];\n\t    }\n\t    return result;\n\t}\n\t\n\t// Merges multiple objects into a single one\n\tfunction extend(first) {\n\t    for (var _len2 = arguments.length, others = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t        others[_key2 - 1] = arguments[_key2];\n\t    }\n\t\n\t    // SAME modifies object\n\t    for (var i = 0; i < others.length; ++i) {\n\t        var obj = others[i];\n\t        for (var key in obj) {\n\t            if (obj.hasOwnProperty(key)) first[key] = src[key];\n\t        }\n\t    }\n\t    return first;\n\t}\n\t\n\tfunction clamp(x) {\n\t    var min = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t    var max = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\t\n\t    return Math.max(Math.min(x, max), min);\n\t}\n\t\n\tfunction camelCase(str) {\n\t    return str.split(/-/g).map(function (str, index) {\n\t        return index === 0 ? str : str[0].toUpperCase() + str.substring(1);\n\t    }).join('');\n\t}\n\t\n\t// -------------------------------------------------------------------------------------------------\n\t// Function Wrappers\n\t\n\t// Wrapper for functions to cache their result based on arguments\n\tfunction cache(fn) {\n\t    var cache = new Map();\n\t    return function () {\n\t        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t            args[_key3] = arguments[_key3];\n\t        }\n\t\n\t        var argString = args.join('--');\n\t        if (!cache.has(argString)) cache.set(argString, fn.apply(undefined, args));\n\t        return cache.get(argString);\n\t    };\n\t}\n\t\n\t// Wrapper that prevents a function `fn` from being triggered more than every `t` ms.\n\tfunction throttle(fn, t) {\n\t    var delay = false;\n\t    var repeat = false;\n\t    return function () {\n\t        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n\t            args[_key4] = arguments[_key4];\n\t        }\n\t\n\t        if (delay) {\n\t            repeat = true;\n\t        } else {\n\t            fn.apply(null, args);\n\t            delay = true;\n\t            setTimeout(function () {\n\t                if (repeat) fn.apply(undefined, args);\n\t                delay = false;\n\t                repeat = false;\n\t            }, t);\n\t        }\n\t    };\n\t}\n\t\n\t// -------------------------------------------------------------------------------------------------\n\t// Templates\n\t\n\tvar templateFormats = {\n\t    number: function number(x) {\n\t        return x;\n\t    }\n\t    // TODO more formatting options\n\t};\n\t\n\tfunction template(template) {\n\t    var variables = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    // TODO check if this works\n\t    return template.replace(/\\{\\{\\s*([a-zA-Z]+)\\s*(\\|\\s*([a-zA-Z]+)\\s*)?\\}\\}/g, function (x, val, y, format) {\n\t        var string = variables[val] || '';\n\t        if (format && templateFormats[format]) string = templateFormats[format](string);\n\t        return string;\n\t    });\n\t}\n\t\n\t// -------------------------------------------------------------------------------------------------\n\t// Copying\n\t\n\tfunction shallowCopy(obj) {\n\t    // Handle (simple) strings, numbers, booleans, null and undefined\n\t    var type = typeof obj;\n\t    if (obj == null || isOneOf(type, 'number', 'string', 'boolean')) return obj;\n\t\n\t    // Hande other type objects\n\t    if (obj instanceof Number) return new Number(obj.valueOf());\n\t    if (obj instanceof String) return new String(obj.valueOf());\n\t    if (obj instanceof Boolean) return new Boolean(obj.valueOf());\n\t    if (obj instanceof Date) return new Date(obj.valueOf());\n\t    if (obj instanceof RegExp) return new RegExp(obj);\n\t\n\t    // Handle Arrays and Objects\n\t    return M.each(obj, function (val) {\n\t        return val;\n\t    });\n\t}\n\t\n\tvar deepCopyStore = [];\n\t\n\tfunction deepCopyStoreLookup(obj) {\n\t    var _iteratorNormalCompletion2 = true;\n\t    var _didIteratorError2 = false;\n\t    var _iteratorError2 = undefined;\n\t\n\t    try {\n\t        for (var _iterator2 = deepCopyStore[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t            var item = _step2.value;\n\t\n\t            if (item[0] === obj) return item[1];\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t                _iterator2['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError2) {\n\t                throw _iteratorError2;\n\t            }\n\t        }\n\t    }\n\t\n\t    return null;\n\t}\n\t\n\tfunction deepCopyHelper(obj) {\n\t\n\t    // Handle (simple) strings, numbers, booleans, null and undefined\n\t    var type = typeof obj;\n\t    if (obj == null || M.isOneOf(type, 'number', 'string', 'boolean')) return obj;\n\t\n\t    // Hande other type objects\n\t    if (obj instanceof Number) return new Number(obj.valueOf());\n\t    if (obj instanceof String) return new String(obj.valueOf());\n\t    if (obj instanceof Boolean) return new Boolean(obj.valueOf());\n\t    if (obj instanceof Date) return new Date(obj.valueOf());\n\t    if (obj instanceof RegExp) return new RegExp(obj);\n\t\n\t    // Avoids Recursive Loops\n\t    var x = deepCopyStoreLookup(obj);\n\t    if (x) return x;\n\t\n\t    var copy = obj;\n\t\n\t    // Handle Arrays\n\t    if (M.isArray(obj)) {\n\t        copy = [];\n\t        deepCopyStore.push([obj, copy]);\n\t        for (var i = 0, l = obj.length; i < l; ++i) copy[i] = deepCopyHelper(obj[i]);\n\t\n\t        // Handle Objects\n\t    } else if (obj instanceof Object) {\n\t            copy = {};\n\t            deepCopyStore.push([obj, copy]);\n\t            for (var attr in obj) if (M.has(obj, attr)) copy[attr] = deepCopyHelper(obj[attr]);\n\t        }\n\t\n\t    return copy;\n\t}\n\t\n\tfunction deepCopy(obj) {\n\t    deepCopyStore = [];\n\t    var copy = deepCopyHelper(obj);\n\t    deepCopyStore = [];\n\t    return copy;\n\t}\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Equality Checking\n\t\n\tfunction shallowEquals(obj1, obj2) {\n\t    // TODO\n\t}\n\t\n\tfunction deepEquals(obj1, obj2) {}\n\t// TODO\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Object Watching\n\t// https://gist.github.com/eligrey/384583\n\t\n\tfunction watch(obj, prop, handler) {\n\t    var value = obj[prop];\n\t\n\t    var getter = function getter() {\n\t        return value;\n\t    };\n\t    var setter = function setter(newVal) {\n\t        var oldVal = value;\n\t        value = newVal;\n\t        return newVal = handler.call(this, newVal, oldVal); // jshint ignore:line\n\t    };\n\t\n\t    if (delete obj[prop]) {\n\t        // can't watch constants\n\t        Object.defineProperty(obj, prop, {\n\t            get: getter,\n\t            set: setter,\n\t            enumerable: true,\n\t            configurable: true\n\t        });\n\t    }\n\t}\n\t\n\tfunction unwatch(obj, prop) {\n\t    var val = obj[prop];\n\t    delete obj[prop]; // remove accessor\n\t    obj[prop] = val;\n\t}\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Types\n\t\n\tvar typeCache = {};\n\tvar typeRegexp = /\\s([a-zA-Z]+)/;\n\t\n\tfunction typeOf(obj) {\n\t    // Matches null and undefined\n\t    if (obj == null) return '' + obj;\n\t\n\t    // Matches NaN (different to number)\n\t    if (M.isNaN(obj)) return 'nan';\n\t\n\t    // Matches all other types\n\t    var type = toString.call(obj);\n\t    return typeCache[type] || (typeCache[type] = type.match(typeRegexp)[1].toLowerCase());\n\t}\n\t\n\tfunction isType(x, type) {\n\t    return M.typeOf(x) === type;\n\t}\n\t\n\tfunction isString(x) {\n\t    return x instanceof String || typeof x === 'string';\n\t}\n\t\n\tfunction isNumber(x) {\n\t    return x instanceof Number || typeof x === 'number';\n\t}\n\t\n\tfunction isInteger(x) {\n\t    return x % 1 === 0;\n\t}\n\t\n\tfunction isDate(x) {\n\t    return Object.prototype.toString.call(x) === '[object Date]';\n\t}\n\t\n\tfunction isBoolean(x) {\n\t    return x instanceof Boolean || typeof x === 'boolean';\n\t}\n\t\n\tfunction isObject(x) {\n\t    return x === Object(x);\n\t}\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Export\n\t\n\texports['default'] = {\n\t    uid: uid, run: run, isOneOf: isOneOf, invert: invert, extend: extend, clamp: clamp,\n\t    cache: cache, throttle: throttle,\n\t    template: template,\n\t    shallowCopy: shallowCopy, deepCopy: deepCopy,\n\t    shallowEquals: shallowEquals, deepEquals: deepEquals,\n\t    watch: watch, unwatch: unwatch,\n\t    typeOf: typeOf, isType: isType, isString: isString, isNumber: isNumber, isInteger: isInteger, isDate: isDate, isBoolean: isBoolean, isObject: isObject\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// =============================================================================\n\t// Fermat.js | Vector\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _utilities = __webpack_require__(1);\n\t\n\tvar Vector = (function (_Array) {\n\t    _inherits(Vector, _Array);\n\t\n\t    // -------------------------------------------------------------------------\n\t    // Contructors\n\t\n\t    function Vector() {\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        _classCallCheck(this, Vector);\n\t\n\t        // TODO: this is not allowed before super()\n\t        // if (!(this instanceof Vector)) return new Vector(arguments);\n\t\n\t        if (args.length === 1) {\n\t            if (Array.isArray(args[0])) {\n\t                args = args[0];\n\t            } else {\n\t                args = Array(args[0]).fill(0);\n\t            }\n\t        }\n\t\n\t        _get(Object.getPrototypeOf(Vector.prototype), 'constructor', this).apply(this, args);\n\t    }\n\t\n\t    // -------------------------------------------------------------------------\n\t    // Getters and Methods\n\t\n\t    _createClass(Vector, [{\n\t        key: 'scale',\n\t        value: function scale() {\n\t            var q = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t\n\t            var scaled = this.map(function (x) {\n\t                return q * x;\n\t            });\n\t            return new Vector(scaled);\n\t        }\n\t    }, {\n\t        key: 'normalise',\n\t        value: function normalise() {\n\t            return this.scale(1 / this.norm);\n\t        }\n\t    }, {\n\t        key: 'toString',\n\t        value: function toString() {\n\t            return '(' + this.join(', ') + ')';\n\t        }\n\t\n\t        // -------------------------------------------------------------------------\n\t        // Static Functions\n\t\n\t    }, {\n\t        key: 'total',\n\t        get: function get() {\n\t            var total = 0;\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = this[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var x = _step.value;\n\t                    total += +x || 0;\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                        _iterator['return']();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return total;\n\t        }\n\t    }, {\n\t        key: 'average',\n\t        get: function get() {\n\t            return this.total() / this.length;\n\t        }\n\t    }, {\n\t        key: 'norm',\n\t        get: function get() {\n\t            var squares = 0;\n\t            var _iteratorNormalCompletion2 = true;\n\t            var _didIteratorError2 = false;\n\t            var _iteratorError2 = undefined;\n\t\n\t            try {\n\t                for (var _iterator2 = this[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                    var x = _step2.value;\n\t                    squares += x * x;\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError2 = true;\n\t                _iteratorError2 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t                        _iterator2['return']();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError2) {\n\t                        throw _iteratorError2;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return Math.sqrt(squares);\n\t        }\n\t    }, {\n\t        key: 'first',\n\t        get: function get() {\n\t            return this[0];\n\t        }\n\t    }, {\n\t        key: 'last',\n\t        get: function get() {\n\t            return this[this.length - 1];\n\t        }\n\t    }, {\n\t        key: 'min',\n\t        get: function get() {\n\t            return Math.min.apply(Math, _toConsumableArray(this));\n\t        }\n\t    }, {\n\t        key: 'max',\n\t        get: function get() {\n\t            return Math.max.apply(Math, _toConsumableArray(this));\n\t        }\n\t    }, {\n\t        key: 'range',\n\t        get: function get() {\n\t            return [this.min, this.max];\n\t        }\n\t    }], [{\n\t        key: 'sum',\n\t        value: function sum(v1, v2) {\n\t            var a = (0, _utilities.map)(function (a, b) {\n\t                return a + b;\n\t            }, v1, v2);\n\t            return new Vector(a);\n\t        }\n\t    }, {\n\t        key: 'difference',\n\t        value: function difference(v1, v2) {\n\t            return Vector.add(v1, v2.scale(-1));\n\t        }\n\t    }, {\n\t        key: 'dot',\n\t        value: function dot(v1, v2) {\n\t            var n = Math.min(v1.length, v2.length);\n\t            var d = 0;\n\t            for (var i = 0; i < n; ++i) {\n\t                d += (v1[i] || 0) * (v2[i] || 0);\n\t            }return d;\n\t        }\n\t    }, {\n\t        key: 'cross2D',\n\t        value: function cross2D(x, y) {\n\t            return x[0] * y[1] - x[1] * y[0];\n\t        }\n\t    }, {\n\t        key: 'cross',\n\t        value: function cross(v1, v2) {\n\t            return new Vector([v1[1] * v2[2] - v1[2] * v2[1], v1[2] * v2[0] - v1[0] * v2[2], v1[0] * v2[1] - v1[1] * v2[0]]);\n\t        }\n\t    }, {\n\t        key: 'product',\n\t        value: function product(v1, v2) {\n\t            var a = (0, _utilities.map)(function (a, b) {\n\t                return a * b;\n\t            }, v1, v2);\n\t            return new Vector(a);\n\t        }\n\t    }, {\n\t        key: 'equals',\n\t        value: function equals(v1, v2) {\n\t            var n = v1.length;\n\t            if (n !== v2.length) return false;\n\t            for (var i = 0; i < n; ++i) {\n\t                if (v1[i] !== v2[i]) return false;\n\t            }return true;\n\t        }\n\t    }]);\n\t\n\t    return Vector;\n\t})(Array);\n\t\n\texports['default'] = Vector;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ============================================================================\n\t// Fermat.js | Combinatorics\n\t// (c) 2015 Mathigon / Philipp Legner\n\t// ============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _utilitiesJs = __webpack_require__(1);\n\t\n\tvar _utilitiesJs2 = _interopRequireDefault(_utilitiesJs);\n\t\n\tvar factorial = (0, _utilitiesJs2['default'])(function (x) {\n\t    if (x < 0) return NaN;\n\t    if (x === 0) return 1;\n\t    if (x <= 1) return x;\n\t    return x * factorial(x - 1);\n\t});\n\t\n\tvar binomial = (0, _utilitiesJs2['default'])(function (n, k) {\n\t    // n choose k\n\t    if (k === 0) {\n\t        return 1;\n\t    } else if (2 * k > n) {\n\t        return binomial(n, n - k);\n\t    } else {\n\t        var coeff = 1;\n\t        for (var i = k; i > 0; --i) {\n\t            coeff *= n - i + 1;\n\t            coeff /= i;\n\t        }\n\t        return coeff;\n\t    }\n\t});\n\t\n\t// permutations(arr)[0] == arr\n\t// http://stackoverflow.com/questions/9960908/permutations-in-javascript\n\tfunction permutations(arr) {\n\t    var permArr = [];\n\t    var usedChars = [];\n\t    function permute(input) {\n\t        for (var i = 0; i < input.length; i++) {\n\t            var term = input.splice(i, 1)[0];\n\t            usedChars.push(term);\n\t            if (input.length === 0) {\n\t                permArr.push(usedChars.slice());\n\t            }\n\t            permute(input);\n\t            input.splice(i, 0, term);\n\t            usedChars.pop();\n\t        }\n\t        return permArr;\n\t    }\n\t    return permute(arr);\n\t}\n\t\n\tfunction _getSubsets(arr) {\n\t    if (arr.length === 1) return [[], arr];\n\t    var last = arr.pop();\n\t    var subsets = getSubsets(arr);\n\t    var result = [];\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _iterator = subsets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var s = _step.value;\n\t\n\t            var a2 = s.slice(0);\n\t            a2.push(last);\n\t            result.push(s, a2);\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                _iterator['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction subsets(arr) {\n\t    var length = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t    var myArr = arr.slice(0);\n\t    var results = _getSubsets(myArr);\n\t    if (length) results = results.filter(function (x) {\n\t        return x.length === length;\n\t    });\n\t    // FUTURE Sorting of Subsets Results\n\t    return results;\n\t}\n\t\n\t// Returns a string of n coin flips like 'HTTHTHTTHTT'\n\tfunction coinFlips() {\n\t    var n = arguments.length <= 0 || arguments[0] === undefined ? 10 : arguments[0];\n\t\n\t    var str = '';\n\t    for (var i = 0; i < n; ++i) {\n\t        str += Math.random() >= 0.5 ? 'H' : 'T';\n\t    }\n\t    return str;\n\t}\n\t\n\texports['default'] = { factorial: factorial, binomial: binomial, permutations: permutations, subsets: subsets, coinFlips: coinFlips };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t// =================================================================================================\n\t// Core.js | Array Functions\n\t// (c) 2015 Mathigon / Philipp Legner\n\t// =================================================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tfunction getLength(array) {\n\t    return array.length;\n\t}\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Array Generators\n\t\n\tfunction tabulateWith(fn, vals, args) {\n\t    if (!args.length) return M.run(fn, vals);\n\t\n\t    var newArgs = _arraySlice.call(args, 0);\n\t    var x = newArgs.shift();\n\t\n\t    var result = [];\n\t    for (var i = 0; i < x; ++i) result.push(tabulateWith(fn, vals.concat([i]), newArgs));\n\t    return result;\n\t}\n\t\n\tM.tabulate = function (fn, x, y, z) {\n\t    var indices = M.toArray(arguments);\n\t    _arrayShift.call(indices);\n\t    return tabulateWith(fn, [], indices);\n\t};\n\t\n\tM.list = function (a, b, step) {\n\t    if (!step) step = 1;\n\t    var arr = [],\n\t        i;\n\t\n\t    if (b == null && a >= 0) {\n\t        for (i = 0; i < a; i += step) arr.push(i);\n\t    } else if (b == null) {\n\t        for (i = 0; i > a; i -= step) arr.push(i);\n\t    } else if (a <= b) {\n\t        for (i = a; i <= b; i += step) arr.push(i);\n\t    } else {\n\t        for (i = a; i >= b; i -= step) arr.push(i);\n\t    }\n\t\n\t    return arr;\n\t};\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Array Functions\n\t\n\t// For types that cannot be converted to an array, toArray() returns a 1 item array containing\n\t// the passed-in object.\n\t\n\tvar unsliceable = ['undefined', 'null', 'number', 'boolean', 'string', 'function'];\n\t\n\tM.toArray = function (obj) {\n\t    return unsliceable.has(M['typeof'](obj)) ? [obj] : Array.prototype.slice.call(obj, 0);\n\t};\n\t\n\tM.map = function (fn) {\n\t    var arrays = M.toArray(arguments);\n\t    _arrayShift.call(arrays);\n\t\n\t    var maxLength = Math.max.apply(Math, M.each(arrays, getLength));\n\t\n\t    return M.tabulate(function (i) {\n\t        return fn.apply(null, M.each(arrays, function (x) {\n\t            return x[i];\n\t        }));\n\t    }, maxLength);\n\t};\n\t\n\tM.concat = function (a, b) {\n\t    if (arguments.length > 2) {\n\t        args = M.toArray(arguments);\n\t        var last = args.pop();\n\t        return M.concat(M.concat(args), last);\n\t    }\n\t\n\t    var array = Array.prototype.slice.call(a, 0);\n\t    for (var i = 0, l = b.length; i < l; ++i) array.push(b[i]);\n\t\n\t    return array;\n\t};\n\t\n\tM.cumulative = function (array) {\n\t    var total = 0;\n\t    return M.each(array, function (a) {\n\t        total += a;\n\t        return total;\n\t    });\n\t};\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Set Functions\n\t\n\tM.set = {\n\t\n\t    intersect: function intersect(a1, a2) {},\n\t\n\t    difference: function difference(a1, a2) {\n\t        var length1 = a1.length;\n\t        var length2 = a2.length;\n\t        var result = [];\n\t\n\t        outer: for (var i = 0; i < length1; ++i) {\n\t            var value = a1[i];\n\t            for (var j = 0; j < length2; ++j) {\n\t                if (value === a2[j]) continue outer;\n\t            }\n\t            result.push(value);\n\t        }\n\t\n\t        return result;\n\t    }\n\t\n\t};\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Array Prototype\n\t\n\tM.extendPrototype(Array, {\n\t\n\t    // Runs the function fn(element, index) for every element in an array\n\t    each: function each(fn, reverse) {\n\t        var i,\n\t            n = this.length;\n\t\n\t        if (reverse) {\n\t            for (i = n - 1; i >= 0; --i) fn(this[i], i);\n\t        } else {\n\t            for (i = 0; i < n; ++i) fn(this[i], i);\n\t        }\n\t\n\t        return this;\n\t    },\n\t\n\t    saveEach: function saveEach(fn, reverse) {\n\t        var i,\n\t            n = this.length;\n\t\n\t        if (reverse) {\n\t            for (i = n - 1; i >= 0; --i) if (M.has(this, i)) fn(this[i], i);\n\t        } else {\n\t            this.forEach(fn);\n\t        }\n\t\n\t        return this;\n\t    },\n\t\n\t    has: function has(x) {\n\t        return this.indexOf(x) !== -1;\n\t    },\n\t\n\t    every: function every(fn) {\n\t        var n = this.length;\n\t\n\t        for (var i = 0; i < n; ++i) if (!fn(this[i], i)) return false;\n\t\n\t        return this;\n\t    },\n\t\n\t    some: function some(fn) {\n\t        var n = this.length;\n\t\n\t        for (var i = 0; i < n; ++i) if (fn(this[i], i)) return true;\n\t\n\t        return false;\n\t    },\n\t\n\t    extract: function extract(id) {\n\t        return this.map(function (a) {\n\t            return a[id];\n\t        });\n\t    },\n\t\n\t    total: function total() {\n\t        var total = 0,\n\t            n = this.length;\n\t        for (var i = 0; i < n; ++i) total += +this[i] || 0;\n\t        return total;\n\t    },\n\t\n\t    first: function first() {\n\t        return this[0];\n\t    },\n\t\n\t    last: function last() {\n\t        return this[this.length - 1];\n\t    },\n\t\n\t    // Finds the minimum of all values in an array a\n\t    min: function min() {\n\t        return Math.min.apply(Math, this);\n\t    },\n\t\n\t    // Finds the maximum of all values in an array a\n\t    max: function max() {\n\t        return Math.max.apply(Math, this);\n\t    },\n\t\n\t    // minIndex\n\t    // maxIndex\n\t\n\t    // Finds the maximum of all values in an array a\n\t    maxAbs: function maxAbs() {\n\t        var max = this.max();\n\t        var min = this.min();\n\t        return Math.abs(max) > Math.abs(min) ? max : min;\n\t    },\n\t\n\t    // Finds the smallest and the largest value in the arra a\n\t    range: function range() {\n\t        return [this.min(), this.max()];\n\t    },\n\t\n\t    // Removes any null or undefined values in array a\n\t    clean: function clean() {\n\t        var b = [],\n\t            n = this.length;\n\t        for (var i = 0; i < n; ++i) if (this[i] != null) b.push(this[i]);\n\t        return b;\n\t    },\n\t\n\t    // Removes duplicates in an array a\n\t    unique: function unique() {\n\t        var b = [],\n\t            n = this.length;\n\t        for (var i = 0; i < n; ++i) if (b.indexOf(this[i]) === -1) b.push(this[i]);\n\t        return b;\n\t    },\n\t\n\t    // Removes all occurrences of x from the array a\n\t    without: function without(x) {\n\t        var b = [],\n\t            n = this.length;\n\t        for (var i = 0; i < n; ++i) if (this[i] !== x) b.push(this[i]);\n\t        return b;\n\t    },\n\t\n\t    // Breaks an array a into chunks of size at most n\n\t    chunk: function chunk(n) {\n\t        var chunks = [];\n\t        var lastChunk = [];\n\t        var count = 0,\n\t            l = this.length;\n\t\n\t        for (var i = 0; i < l; ++i) {\n\t            lastChunk.push(this[i]);\n\t            ++count;\n\t            if (count >= n) {\n\t                chunks.push(lastChunk);\n\t                lastChunk = [];\n\t                count = 0;\n\t            }\n\t        }\n\t\n\t        if (lastChunk.length) _arrayPush.call(chunks, lastChunk);\n\t        return chunks;\n\t    },\n\t\n\t    // Rotates the elements of an array by offset\n\t    rotate: function rotate(offset) {\n\t        var n = this.length;\n\t        offset = (offset % n + n) % n; // offset could initially be negative...\n\t        var start = this.slice(0, offset);\n\t        var end = this.slice(offset);\n\t        _arrayPush.apply(end, start);\n\t        return end;\n\t    },\n\t\n\t    // Flatten a multi dimensional array, put all elements in a one dimensional array\n\t    flatten: function flatten() {\n\t        var flat = _arraySlice.call(this, 0);\n\t\n\t        while (M.isArray(flat[0])) {\n\t            var next = [];\n\t            for (var i = 0, n = flat.length; i < n; ++i) {\n\t                next = next.concat.apply(next, flat[i]);\n\t            }\n\t            flat = next;\n\t        }\n\t\n\t        return flat;\n\t    },\n\t\n\t    sortBy: function sortBy(p, reverse) {\n\t        return this.sort(function (a, b) {\n\t            return reverse ? b[p] - a[p] : a[p] - b[p];\n\t        });\n\t    }\n\t\n\t});\n\t\n\texports['default'] = {};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t// ============================================================================\n\t// Fermat.js | Number Theory\n\t// (c) 2015 Mathigon\n\t// ============================================================================\n\t\n\t// -----------------------------------------------------------------------------\n\t// Simple Functions\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tfunction nearlyEquals(x, y) {\n\t    var tolerance = arguments.length <= 2 || arguments[2] === undefined ? 0.0000001 : arguments[2];\n\t\n\t    return Math.abs(x - y) < tolerance;\n\t}\n\t\n\tfunction sign(x) {\n\t    return nearlyEquals(x, 0) ? 0 : x > 0 ? 1 : -1;\n\t}\n\t\n\tfunction bound(x) {\n\t    var min = arguments.length <= 1 || arguments[1] === undefined ? -Infinity : arguments[1];\n\t    var max = arguments.length <= 2 || arguments[2] === undefined ? Infinity : arguments[2];\n\t\n\t    return Math.min(max, Math.max(min, x));\n\t}\n\t\n\tfunction between(x, a, b) {\n\t    return x >= a && x <= b;\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// String Conversion\n\t\n\tvar numRegex = /(\\d+)(\\d{3})/;\n\t\n\t// Adds ','s as thousands seperators to a number\n\tfunction numberFormat(x) {\n\t    x = ('' + x).split('.');\n\t    var n = x[0];\n\t    while (numRegex.test(n)) {\n\t        n = n.replace(numRegex, '$1,$2');\n\t    }\n\t    return n + (x.length > 1 ? '.' + x[1] : '');\n\t}\n\t\n\tfunction toOrdinal(x) {\n\t    if (Math.abs(x) % 100 >= 11 && Math.abs(x) % 100 <= 13) return x + 'th';\n\t\n\t    switch (x % 10) {\n\t        case 1:\n\t            return x + 'st';\n\t        case 2:\n\t            return x + 'nd';\n\t        case 3:\n\t            return x + 'rd';\n\t        default:\n\t            return x + 'th';\n\t    }\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Rounding, Decimals and Decimals\n\t\n\t// digits(376) = [6, 7, 3]\n\tfunction digits(n) {\n\t    var str = '' + Math.abs(x);\n\t    return str.split('').reverse().map(function (x) {\n\t        return +x;\n\t    });\n\t}\n\t\n\t// decimalDigits(3.456) = [4, 5, 6]\n\tfunction fractionalDigits(n) {\n\t    var str = '' + Math.abs(n - Math.floor(n));\n\t    return str.split('').map(function (x) {\n\t        return +x;\n\t    });\n\t}\n\t\n\t// Returns the number of digits after the decimal place\n\tfunction decimalPlaces(n) {\n\t    var str = '' + Math.abs(n);\n\t    str = str.split('.');\n\t    return str.length === 1 ? 0 : str[1].length;\n\t}\n\t\n\tfunction round(n) {\n\t    var precision = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t    var factor = Math.pow(10, precision);\n\t    return Math.round(n * factor) / factor;\n\t}\n\t\n\t// Round a number n to the nearest multiple of increment\n\tfunction roundTo(n) {\n\t    var increment = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t\n\t    return Math.round(n / increment) * increment;\n\t}\n\t\n\tfunction roundTowardsZero(x) {\n\t    // Add 0.00001 because of floating points uncertainty\n\t    // TODO use x|0;\n\t    return x < 0 ? Math.ceil(x - 0.00001) : Math.floor(x + 0.00001);\n\t}\n\t\n\t// Returns an [numerator, denominator] array\n\t// See http://en.wikipedia.org/wiki/Continued_fraction\n\tfunction toFraction(decimal) {\n\t    var precision = arguments.length <= 1 || arguments[1] === undefined ? 0.0001 : arguments[1];\n\t\n\t    var n = [1, 0],\n\t        d = [0, 1];\n\t    var a = Math.floor(decimal);\n\t    var rem = decimal - a;\n\t\n\t    while (d[0] <= 1 / precision) {\n\t        if (nearlyEquals(n[0] / d[0], precision)) return [n[0], d[0]];\n\t        n = [a * n[0] + n[1], n[0]];\n\t        d = [a * d[0] + d[1], d[0]];\n\t        a = Math.floor(1 / rem);\n\t        rem = 1 / rem - a;\n\t    }\n\t\n\t    // No nice rational representation so return an irrational \"fraction\"\n\t    return [decimal, 1];\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Operations\n\t\n\t// The JS implementation of the % operator returns the symmetric modulo.\n\t// Both are identical if a >= 0 and m >= 0 but the results differ if a or m < 0.\n\tfunction mod(a, m) {\n\t    return (a % m + a) % m;\n\t}\n\t\n\tfunction log(x) {\n\t    var b = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t\n\t    return b == null ? Math.log(x) : Math.log(x) / Math.log(b);\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\texports['default'] = {\n\t    nearlyEquals: nearlyEquals, sign: sign, bound: bound, between: between, numberFormat: numberFormat, toOrdinal: toOrdinal,\n\t    digits: digits, fractionalDigits: fractionalDigits, decimalPlaces: decimalPlaces, round: round, roundTo: roundTo, roundTowardsZero: roundTowardsZero,\n\t    toFraction: toFraction, mod: mod, log: log\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\t// =============================================================================\n\t// Fermat.js | Bignum Library\n\t// *** EXPERIMENTAL ***\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// =============================================================================\n\t// Fermat.js | Complex Numbers\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar Complex = (function () {\n\t    _createClass(Complex, null, [{\n\t        key: 'sum',\n\t\n\t        // -------------------------------------------------------------------------\n\t        // Static Methods\n\t\n\t        value: function sum(c1, c2) {\n\t            if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n\t            if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n\t\n\t            return new Complex(c1.re + c2.re, c1.im + c2.im);\n\t        }\n\t    }, {\n\t        key: 'difference',\n\t        value: function difference(c1, c2) {\n\t            if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n\t            if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n\t\n\t            return new Complex(c1.re - c2.re, c1.im - c2.im);\n\t        }\n\t    }, {\n\t        key: 'product',\n\t        value: function product(c1, c2) {\n\t            if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n\t            if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n\t            var re = c1.re * c2.re - c1.im * c2.im;\n\t            var im = c1.im * c2.re + c1.re * c2.im;\n\t            return new M.complex(re, im);\n\t        }\n\t    }, {\n\t        key: 'quotient',\n\t        value: function quotient(c1, c2) {\n\t            if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n\t            if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n\t\n\t            if (Math.abs(c2.re) < Number.EPSILON || Math.abs(c2.im) < Number.EPSILON) return new Complex(Infinity, Infinity);\n\t\n\t            var denominator = c2.re * c2.re + c2.im * c2.im;\n\t            var re = (c1.re * c2.re + c1.im * c2.im) / denominator;\n\t            var im = (c1.im * c2.re - c1.re * c2.im) / denominator;\n\t\n\t            return new Complex(re, im);\n\t        }\n\t\n\t        // -------------------------------------------------------------------------\n\t        // Constructor\n\t\n\t    }]);\n\t\n\t    function Complex() {\n\t        var re = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t        var im = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t        _classCallCheck(this, Complex);\n\t\n\t        this.re = re || 0;\n\t        this.im = im || 0;\n\t    }\n\t\n\t    // -------------------------------------------------------------------------\n\t    // Getters and Methods\n\t\n\t    _createClass(Complex, [{\n\t        key: 'toString',\n\t        value: function toString() {\n\t            if (!this.re) return this.im + 'i';\n\t            if (!this.im) return this.re;\n\t            return this.re + ' + ' + this.im + 'i';\n\t        }\n\t    }, {\n\t        key: 'magnitude',\n\t        get: function get() {\n\t            return Math.sqrt(this.re * this.re + this.im * this.im);\n\t        }\n\t    }, {\n\t        key: 'phase',\n\t        get: function get() {\n\t            return Math.atan2(this.im, this.re);\n\t        }\n\t    }, {\n\t        key: 'conjugate',\n\t        get: function get() {\n\t            return new Complex(this.re, -this.im);\n\t        }\n\t    }]);\n\t\n\t    return Complex;\n\t})();\n\t\n\texports['default'] = Complex;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t// =============================================================================\n\t// Fermat.js | Expressions\n\t// *** EXPERIMENTAL ***\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\t\n\t// TODO fix parser errors + test\n\t// TODO + and * with multiple arguments\n\t// TODO Simplify expressions\n\t// TODO More error messages: 1(1), \"str\"(10), %(x)\n\t\n\t// -----------------------------------------------------------------------------\n\t// Expression Functions\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar functions = {\n\t    '+': function _(a, b) {\n\t        return a + b;\n\t    },\n\t    '-': function _(a, b) {\n\t        return b === undefined ? -a : a - b;\n\t    },\n\t    '*': function _(a, b) {\n\t        return a * b;\n\t    },\n\t    '/': function _(a, b) {\n\t        return a / b;\n\t    },\n\t    '!': function _(n) {\n\t        return M.factorial(n);\n\t    }, // FIXME\n\t    '^': function _(a, b) {\n\t        return Math.pow(a, b);\n\t    },\n\t    '[]': function _() {\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return args;\n\t    },\n\t    '\"': function _(str) {\n\t        return '' + str;\n\t    },\n\t    'mod': function mod(a, b) {\n\t        return M.mod(a, b);\n\t    }\n\t};\n\t\n\tvar strings = {\n\t    '+': function _() {\n\t        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t            args[_key2] = arguments[_key2];\n\t        }\n\t\n\t        return args.join(' + ');\n\t    },\n\t    '-': function _(a, b) {\n\t        return b === undefined ? '-' + a : a + ' - ' + b;\n\t    },\n\t    '*': function _() {\n\t        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t            args[_key3] = arguments[_key3];\n\t        }\n\t\n\t        return args.join(' * ');\n\t    },\n\t    '/': function _(a, b) {\n\t        return a + ' / ' + b;\n\t    },\n\t    '!': function _(n) {\n\t        return n + '!';\n\t    },\n\t    '^': function _(a, b) {\n\t        return a + ' ^ ' + b;\n\t    },\n\t    '[]': function _() {\n\t        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n\t            args[_key4] = arguments[_key4];\n\t        }\n\t\n\t        return '[' + args.join(', ') + ']';\n\t    },\n\t    '\"': function _(str) {\n\t        return '\"' + str + '\"';\n\t    },\n\t    'mod': function mod(a, b) {\n\t        return a + ' mod ' + b;\n\t    }\n\t};\n\t\n\tvar ExpressionFn = (function () {\n\t    function ExpressionFn(fn, args) {\n\t        _classCallCheck(this, ExpressionFn);\n\t\n\t        this.fn = fn;\n\t        this.args = args;\n\t    }\n\t\n\t    // ExpressionVal can be numbers of strings (-> variables)\n\t\n\t    _createClass(ExpressionFn, [{\n\t        key: 'simplify',\n\t        value: function simplify() {\n\t            // TODO !!!\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'toString',\n\t        value: function toString() {\n\t            var newArgs = [];\n\t            for (var i = 0; i < this.args.length; ++i) newArgs.push(this.args[i].toString());\n\t\n\t            var fn = strings[this.fn];\n\t            return fn ? fn.apply(undefined, newArgs) : this.fn + '(' + this.args.join(', ') + ')';\n\t        }\n\t    }, {\n\t        key: 'evaluate',\n\t        value: function evaluate() {\n\t            var vars = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t            var newArgs = [];\n\t            for (var i = 0; i < this.args.length; ++i) {\n\t                var newArg = this.args[i].evaluate();\n\t                if (newArg instanceof Expression) return this;\n\t                newArgs.push(newArg);\n\t            }\n\t\n\t            var fn = vars[this.fn] || functions[this.fn] || Math[this.fn] || M[this.fn];\n\t            return fn instanceof Function ? fn.apply(undefined, newArgs) : this;\n\t        }\n\t    }]);\n\t\n\t    return ExpressionFn;\n\t})();\n\t\n\tvar ExpressionVal = (function () {\n\t    function ExpressionVal(val) {\n\t        _classCallCheck(this, ExpressionVal);\n\t\n\t        this.val = val;\n\t    }\n\t\n\t    // -----------------------------------------------------------------------------\n\t    // Expression Parser\n\t\n\t    _createClass(ExpressionVal, [{\n\t        key: 'simplify',\n\t        value: function simplify() {\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'toString',\n\t        value: function toString() {\n\t            return '' + this.val;\n\t        }\n\t    }, {\n\t        key: 'evaluate',\n\t        value: function evaluate() {\n\t            var vars = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t            if (isNumber(this.val)) return this.val;\n\t            if (this.val in vars) return vars[this.val];\n\t            return this;\n\t        }\n\t    }]);\n\t\n\t    return ExpressionVal;\n\t})();\n\t\n\tvar brackets = { '(': ')', '[': ']', '{': '}', '|': '|' };\n\t\n\tfunction bracketsMatch(a, b) {\n\t    return brackets[a] === b || brackets[b] === a;\n\t}\n\t\n\tvar ExpressionParser = (function () {\n\t    function ExpressionParser() {\n\t        _classCallCheck(this, ExpressionParser);\n\t\n\t        this.current = '';\n\t        this.result = [];\n\t\n\t        this.currentParser = null;\n\t        this.currentBracket = null;\n\t        this.currentFn = null;\n\t    }\n\t\n\t    // -----------------------------------------------------------------------------\n\t    // Expressions Class\n\t\n\t    // Pushes a new letter to the expression parser\n\t\n\t    _createClass(ExpressionParser, [{\n\t        key: 'send',\n\t        value: function send(x) {\n\t\n\t            // Handle Strings\n\t            if (this.currentBracket === '\"' && x !== '\"') {\n\t                this.current += x;\n\t\n\t                // Closing Strings\n\t            } else if (!this.currentBracket && x === '\"') {\n\t                    this.pushCurrent();\n\t                    this.currentBracket = '\"';\n\t\n\t                    // Opening Strings\n\t                } else if (this.currentBracket === '\"' && x === '\"') {\n\t                        this.result.push(new Expression('\"', [this.current]));\n\t\n\t                        // Handle Invalid Characters\n\t                    } else if ('@&\\\\?<>=~`'.contains(x)) {\n\t                            throw new Error('Unexpected \"' + x + '\".');\n\t\n\t                            // Handle Content for CHild parsers\n\t                        } else if (this.currentParser) {\n\t\n\t                                if (')]}|'.contains(x) && this.currentParser.isReady()) {\n\t\n\t                                    if (!bracketsMatch(x, this.currentBracket)) throw new Error('Unexpected \"' + x + '\".');\n\t\n\t                                    var completed = this.currentParser.complete();\n\t                                    if (this.currentFn) {\n\t                                        this.result.push(new ExpressionFn(this.currentFn, completed));\n\t                                    } else if (x === ']') {\n\t                                        this.result.push(new ExpressionFn('[]', completed));\n\t                                    } else if (x === '|') {\n\t                                        this.result.push(new ExpressionFn('abs', completed));\n\t                                    } else {\n\t                                        if (completed.length !== 1) throw new Error('Unexpected \",\".');\n\t                                        this.result.push(new ExpressionVal(completed[0]));\n\t                                    }\n\t                                    this.current = '';\n\t                                    this.currentBracket = this.currentParser = this.currentFn = null;\n\t                                } else {\n\t                                    this.currentParser.send(x);\n\t                                }\n\t\n\t                                // Handle Open Brackets\n\t                            } else if ('([{|'.contains(x)) {\n\t                                    if (x === '(' && isNaN(+this.current) && !'+-*/!^%,'.contains(this.current)) {\n\t                                        this.currentFn = this.current;\n\t                                        this.current = '';\n\t                                    } else {\n\t                                        this.pushCurrent();\n\t                                    }\n\t                                    this.currentParser = new ExpressionParser();\n\t                                    this.currentBracket = x;\n\t                                } else if ('+-*/!^%,'.contains(x)) {\n\t                                    this.pushCurrent();\n\t                                    if (x !== ',') this.result.push(x);\n\t                                } else if (x.match(/\\s\\n\\t/)) {\n\t                                    this.pushCurrent();\n\t                                } else {\n\t                                    this.current += x.trim();\n\t                                }\n\t        }\n\t    }, {\n\t        key: 'isReady',\n\t        value: function isReady() {\n\t            return this.currentParser == null;\n\t        }\n\t\n\t        // Adds a new letter, number or expression to the results object\n\t    }, {\n\t        key: 'pushCurrent',\n\t        value: function pushCurrent() {\n\t            if (!this.current) return;\n\t            var num = +this.current;\n\t            this.result.push(new ExpressionVal(num === num ? num : this.current));\n\t            this.current = '';\n\t        }\n\t\n\t        // Completes the expression and returns a new expression\n\t    }, {\n\t        key: 'complete',\n\t        value: function complete(x) {\n\t\n\t            this.pushCurrent();\n\t            var i;\n\t\n\t            // Handle Factorials and Percentages\n\t            for (i = 0; i < this.result.length; ++i) {\n\t                if (this.result[i] === '!') {\n\t                    this.result.splice(i - 1, 2, new ExpressionFn('!', [this.result[i - 1]]));\n\t                    i -= 1;\n\t                } else if (this.result[i] === '%') {\n\t                    this.result.splice(i - 1, 2, new ExpressionFn('/', [this.result[i - 1], 100]));\n\t                    i -= 1;\n\t                }\n\t            }\n\t\n\t            // Handle Powers\n\t            for (i = 0; i < this.result.length; ++i) {\n\t                if (this.result[i] === '^') {\n\t                    this.result.splice(i - 1, 3, new ExpressionFn('^', [this.result[i - 1], this.result[i + 1]]));\n\t                    i -= 2;\n\t                }\n\t            }\n\t\n\t            // Handle Leading -\n\t            if (this.result[0] === '-') this.result.splice(0, 2, new ExpressionFn('-', [this.result[1]]));\n\t\n\t            // Handle Multiplication and Division\n\t            for (i = 0; i < this.result.length; ++i) {\n\t                if (this.result[i] === '/') {\n\t                    this.result.splice(i - 1, 3, new ExpressionFn('/', [this.result[i - 1], this.result[i + 1]]));\n\t                    i -= 2;\n\t                } else if (this.result[i] === '*') {\n\t                    this.result.splice(i - 1, 3, new ExpressionFn('*', [this.result[i - 1], this.result[i + 1]]));\n\t                    i -= 2;\n\t                }\n\t            }\n\t\n\t            // Handle Addition and Subtraction\n\t            for (i = 0; i < this.result.length; ++i) {\n\t                if (this.result[i] === '-') {\n\t                    this.result.splice(i - 1, 3, new ExpressionFn('-', [this.result[i - 1], this.result[i + 1]]));\n\t                    i -= 2;\n\t                } else if (this.result[i] === '+') {\n\t                    this.result.splice(i - 1, 3, new ExpressionFn('+', [this.result[i - 1], this.result[i + 1]]));\n\t                    i -= 2;\n\t                }\n\t            }\n\t\n\t            return this.result;\n\t        }\n\t    }]);\n\t\n\t    return ExpressionParser;\n\t})();\n\t\n\tvar Expression = (function () {\n\t    function Expression(str) {\n\t        _classCallCheck(this, Expression);\n\t\n\t        var parser = new ExpressionParser();\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t            for (var _iterator = str[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                var x = _step.value;\n\t                parser.send(x);\n\t            }\n\t        } catch (err) {\n\t            _didIteratorError = true;\n\t            _iteratorError = err;\n\t        } finally {\n\t            try {\n\t                if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                    _iterator['return']();\n\t                }\n\t            } finally {\n\t                if (_didIteratorError) {\n\t                    throw _iteratorError;\n\t                }\n\t            }\n\t        }\n\t\n\t        this.expr = parser.complete()[0].simplify();\n\t    }\n\t\n\t    _createClass(Expression, [{\n\t        key: 'simplify',\n\t        value: function simplify() {\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'toString',\n\t        value: function toString() {\n\t            return this.val.toString();\n\t        }\n\t    }, {\n\t        key: 'evaluate',\n\t        value: function evaluate(vars) {\n\t            if (vars == null) vars = {};\n\t            // TODO return numbers if possible?\n\t            return vars[this.val] === undefined ? this.val : vars[this.val];\n\t        }\n\t    }]);\n\t\n\t    return Expression;\n\t})();\n\t\n\texports['default'] = Expression;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// =============================================================================\n\t// Fermat.js | Geometry\n\t// *** EXPERIMENTAL ***\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _get = function get(_x26, _x27, _x28) { var _again = true; _function: while (_again) { var object = _x26, property = _x27, receiver = _x28; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x26 = parent; _x27 = property; _x28 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _utilities = __webpack_require__(1);\n\t\n\tvar _vector = __webpack_require__(2);\n\t\n\tvar _vector2 = _interopRequireDefault(_vector);\n\t\n\tvar _combinatorics = __webpack_require__(3);\n\t\n\t/*function square(x) { return x * x; }\n\tfunction cube(x) { return x * x * x; }\n\tfunction between(x, a, b) { return x >= a && x <= b; }\n\tfunction almost(a, b) { return Math.abs(a, b) < 0.000001; }*/\n\tfunction total(a) {\n\t    var t = 0;var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _iterator = a[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            x = _step.value;\n\t            t += a;\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                _iterator['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t\n\t    return a;\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Points\n\t\n\tvar origin = new Point(0, 0);\n\tvar identity = [[1, 0], [0, 1]];\n\t\n\tvar Point = (function () {\n\t    _createClass(Point, null, [{\n\t        key: 'average',\n\t        value: function average() {\n\t            for (var _len = arguments.length, points = Array(_len), _key = 0; _key < _len; _key++) {\n\t                points[_key] = arguments[_key];\n\t            }\n\t\n\t            var x = total(points.map(function (p) {\n\t                return p.x;\n\t            })) / points.length;\n\t            var y = total(points.map(function (p) {\n\t                return p.y;\n\t            })) / points.length;\n\t            return new Point(x, y);\n\t        }\n\t    }, {\n\t        key: 'dot',\n\t        value: function dot(p1, p2) {\n\t            return p1.x * p2.x + p1.y * p2.y;\n\t        }\n\t    }, {\n\t        key: 'sum',\n\t        value: function sum(p1, p2) {\n\t            return new Point(p1.x + p2.x, p1.y + p2.y);\n\t        }\n\t    }, {\n\t        key: 'difference',\n\t        value: function difference(p1, p2) {\n\t            return new Point(p1.x - p2.x, p1.y - p2.y);\n\t        }\n\t    }, {\n\t        key: 'distance',\n\t        value: function distance(p1, p2) {\n\t            return Math.sqrt((0, _utilities.square)(p1.x - p2.x) + (0, _utilities.square)(p1.y - p2.y));\n\t        }\n\t    }, {\n\t        key: 'manhatten',\n\t        value: function manhatten(p1, p2) {\n\t            return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n\t        }\n\t    }, {\n\t        key: 'distanceFromLine',\n\t        value: function distanceFromLine(p, l) {\n\t            return Point.distance(p, p.project(l)); // TODO wrong?\n\t        }\n\t    }]);\n\t\n\t    function Point() {\n\t        var x = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t        var y = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t        _classCallCheck(this, Point);\n\t\n\t        this.x = x;\n\t        this.y = y;\n\t    }\n\t\n\t    // -----------------------------------------------------------------------------\n\t    // Lines and Beziers\n\t\n\t    _createClass(Point, [{\n\t        key: 'toString',\n\t        value: function toString() {\n\t            return '(' + this.x + ', ' + this.y + ')';\n\t        }\n\t    }, {\n\t        key: 'project',\n\t        value: function project() {\n\t            var l = arguments.length <= 0 || arguments[0] === undefined ? xAxis : arguments[0];\n\t\n\t            var k = Point.dot(Point.difference(this, l.p1), l.normalVector);\n\t            return Point.add(l.p1, k); // TODO wrong?\n\t        }\n\t    }, {\n\t        key: 'transform',\n\t        value: function transform() {\n\t            var m = arguments.length <= 0 || arguments[0] === undefined ? identity : arguments[0];\n\t\n\t            var x = m[0][0] * this.x + m[0][1] * this.y;\n\t            var y = m[1][0] * this.x + m[1][1] * this.y;\n\t            return new Point(x, y);\n\t        }\n\t    }, {\n\t        key: 'rotate',\n\t        value: function rotate() {\n\t            var phi = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t            var p = arguments.length <= 1 || arguments[1] === undefined ? origin : arguments[1];\n\t\n\t            var x0 = this.x - p.x;\n\t            var y0 = this.y - p.y;\n\t\n\t            var cos = Math.cos(phi);\n\t            var sin = Math.sin(phi);\n\t\n\t            var x = x0 * cos - y0 * sin + p.x;\n\t            var y = x0 * sin + y0 * cos + p.y;\n\t            return new Point(x, y);\n\t        }\n\t    }, {\n\t        key: 'reflect',\n\t        value: function reflect() {\n\t            var l = arguments.length <= 0 || arguments[0] === undefined ? yAxis : arguments[0];\n\t\n\t            var v = l.p2.x - l.p1.x;\n\t            var w = l.p2.y - l.p1.y;\n\t\n\t            var x0 = this.x - l.p1.x;\n\t            var y0 = this.y - l.p1.y;\n\t\n\t            var mu = (v * y0 - w * x0) / (v * v + w * w);\n\t\n\t            var x = this.x + 2 * mu * w;\n\t            var y = this.y - 2 * mu * v;\n\t            return new Point(x, y);\n\t        }\n\t    }, {\n\t        key: 'scale',\n\t        value: function scale() {\n\t            var sx = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t            var sy = arguments.length <= 1 || arguments[1] === undefined ? sx : arguments[1];\n\t            return (function () {\n\t                return new Point(this.x * sx, this.y * sy);\n\t            }).apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: 'shift',\n\t        value: function shift() {\n\t            var x = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t            var y = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t            return new Point(this.x + x, this.y + y);\n\t        }\n\t    }, {\n\t        key: 'center',\n\t        get: function get() {\n\t            return this;\n\t        }\n\t    }]);\n\t\n\t    return Point;\n\t})();\n\t\n\tvar xAxis = new Line(origin, new Point(1, 0));\n\tvar yAxis = new Line(origin, new Point(0, 1));\n\t\n\tvar Line = (function () {\n\t    _createClass(Line, null, [{\n\t        key: 'isParallel',\n\t        value: function isParallel(l1, l2) {\n\t            var x1 = l1.p2.x - l1.p1.x;\n\t            var y1 = l1.p2.y - l1.p1.y;\n\t            var x2 = l2.p2.x - l2.p1.x;\n\t            var y2 = l2.p2.y - l2.p1.y;\n\t\n\t            return x1 === 0 && x2 === 0 || y1 === 0 && y2 === 0 || (0, _utilities.almost)(y1 / x1, y2 / x2);\n\t        }\n\t    }, {\n\t        key: 'isPerpendicular',\n\t        value: function isPerpendicular(l1, l2) {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'angleBetween',\n\t        value: function angleBetween(l1, l2) {}\n\t        // TODO\n\t\n\t        // Calculates the angle bisector of the angle a, b, c.\n\t\n\t    }, {\n\t        key: 'angleBisector',\n\t        value: function angleBisector(a, b, c) {\n\t            var phiA = Math.atan2(a.y - b.y, a.x - b.x);\n\t            var phiC = Math.atan2(c.y - b.y, c.x - b.x);\n\t            var phi = (phiA + phiC) / 2;\n\t\n\t            if (phiA > phiC) phi += Math.PI;\n\t\n\t            var x = Math.cos(phi) + b.x;\n\t            var y = Math.sin(phi) + b.y;\n\t\n\t            return new Line(b, new Point(x, y));\n\t        }\n\t    }]);\n\t\n\t    function Line(p1, p2) {\n\t        _classCallCheck(this, Line);\n\t\n\t        this.p1 = p1;\n\t        this.p2 = p2;\n\t    }\n\t\n\t    _createClass(Line, [{\n\t        key: 'contains',\n\t        value: function contains(p) {\n\t            var grad1 = (this.p2.y - this.p1.y) / (this.p2.x - this.p1.x);\n\t            var grad2 = (p.y - this.p1.y) / (p - this.p1.x);\n\t            return (0, _utilities.almost)(grad1, grad2);\n\t        }\n\t    }, {\n\t        key: 'at',\n\t        value: function at() {\n\t            var t = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t\n\t            var x = t * this.p1.x + (1 - t) * this.p2.x;\n\t            var y = t * this.p1.y + (1 - t) * this.p2.y;\n\t            return new Point(x, y);\n\t        }\n\t    }, {\n\t        key: 'perpendicular',\n\t        value: function perpendicular() {\n\t            var p = arguments.length <= 0 || arguments[0] === undefined ? origin : arguments[0];\n\t\n\t            var dx, dy;\n\t\n\t            // Special case: point is the first point of the line\n\t            if (same(p, this.p1)) {\n\t                dx = this.p2.y - this.p1.y;\n\t                dy = this.p1.x - this.p2.x;\n\t\n\t                // Special case: point is the second point of the line\n\t            } else if (same(p, this.p2)) {\n\t                    dx = this.p1.y - this.p2.y;\n\t                    dy = this.p2.x - this.p1.x;\n\t\n\t                    // special case: point lies somewhere else on the line\n\t                } else if (this.contains(p)) {\n\t                        dx = this.p1.y - p.y;\n\t                        dy = p.x - this.p1.x;\n\t\n\t                        // general case: point does not lie on the line\n\t                    } else {\n\t                            var b = p.project(l);\n\t                            dx = b.x;\n\t                            dy = b.y;\n\t                        }\n\t\n\t            return new Line(p, p.shift(dx, dy));\n\t        }\n\t\n\t        // TODO toString, transform, rotate, reflect, scale, shift\n\t    }, {\n\t        key: 'length',\n\t        get: function get() {\n\t            return Point.distance(this.p1, this.p2);\n\t        }\n\t    }, {\n\t        key: 'center',\n\t        get: function get() {\n\t            return Point.average(this.p1, this.p2);\n\t        }\n\t    }, {\n\t        key: 'normalVector',\n\t        get: function get() {\n\t            var l = this.length;\n\t            var x = (this.p2.x - this.p1.x) / l;\n\t            var y = (this.p2.y - this.p1.y) / l;\n\t            return new Point(x, y);\n\t        }\n\t    }]);\n\t\n\t    return Line;\n\t})();\n\t\n\tvar Bezier = (function () {\n\t    function Bezier(p1, p2) {\n\t        var q1 = arguments.length <= 2 || arguments[2] === undefined ? p1 : arguments[2];\n\t        var q2 = arguments.length <= 3 || arguments[3] === undefined ? p2 : arguments[3];\n\t        return (function () {\n\t            _classCallCheck(this, Bezier);\n\t\n\t            this.p1 = p1;\n\t            this.p2 = p2;\n\t            this.q1 = q1;\n\t            this.q2 = q2;\n\t        }).apply(this, arguments);\n\t    }\n\t\n\t    // -------------------------------------------------------------------------\n\t    // Ellipses and Circles\n\t\n\t    _createClass(Bezier, [{\n\t        key: 'contains',\n\t\n\t        // TODO\n\t        value: function contains(p) {}\n\t    }, {\n\t        key: 'at',\n\t        value: function at() {\n\t            var t = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t\n\t            var x = (0, _utilities.cube)(1 - t) * this.p1.x + 3 * t * (1 - t) * (1 - t) * this.q1.x + 3 * t * t * (1 - t) * this.q2.x + (0, _utilities.cube)(t) * this.p2.x;\n\t            var y = (0, _utilities.cube)(1 - t) * this.p1.y + 3 * t * (1 - t) * (1 - t) * this.q1.y + 3 * t * t * (1 - t) * this.q2.y + (0, _utilities.cube)(t) * this.p2.y;\n\t            return new Point(x, y);\n\t        }\n\t\n\t        // TODO toString, transform, rotate, reflect, scale, shift\n\t    }, {\n\t        key: 'length',\n\t        get: function get() {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'center',\n\t        get: function get() {}\n\t    }]);\n\t\n\t    return Bezier;\n\t})();\n\t\n\tvar Ellipse = (function (_Base) {\n\t    _inherits(Ellipse, _Base);\n\t\n\t    function Ellipse() {\n\t        _classCallCheck(this, Ellipse);\n\t\n\t        _get(Object.getPrototypeOf(Ellipse.prototype), 'constructor', this).apply(this, arguments);\n\t    }\n\t\n\t    return Ellipse;\n\t})(Base);\n\t\n\t// TODO\n\t\n\tvar Circle = (function (_Ellipse) {\n\t    _inherits(Circle, _Ellipse);\n\t\n\t    function Circle() {\n\t        var c = arguments.length <= 0 || arguments[0] === undefined ? origin : arguments[0];\n\t        var r = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t\n\t        _classCallCheck(this, Circle);\n\t\n\t        _get(Object.getPrototypeOf(Circle.prototype), 'constructor', this).call(this); // TODO\n\t        this.c = c;\n\t        this.r = r;\n\t    }\n\t\n\t    // -------------------------------------------------------------------------\n\t    // Rectangles and Squares\n\t\n\t    _createClass(Circle, [{\n\t        key: 'contains',\n\t        value: function contains(p) {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'at',\n\t        value: function at() {\n\t            var t = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t        }\n\t        // TODO\n\t\n\t        // TODO toString, transform, rotate, reflect, scale, shift\n\t\n\t    }, {\n\t        key: 'center',\n\t        get: function get() {\n\t            return this.c;\n\t        }\n\t    }, {\n\t        key: 'circumference',\n\t        get: function get() {\n\t            return 2 * Math.PI * this.r;\n\t        }\n\t    }, {\n\t        key: 'area',\n\t        get: function get() {\n\t            return Math.PI * (0, _utilities.square)(this.r);\n\t        }\n\t    }]);\n\t\n\t    return Circle;\n\t})(Ellipse);\n\t\n\tvar Rect = (function (_Base2) {\n\t    _inherits(Rect, _Base2);\n\t\n\t    function Rect() {\n\t        var x = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t        var y = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t        var w = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\t        var h = arguments.length <= 3 || arguments[3] === undefined ? 1 : arguments[3];\n\t\n\t        _classCallCheck(this, Rect);\n\t\n\t        _get(Object.getPrototypeOf(Rect.prototype), 'constructor', this).call(this); // TODO\n\t        this.x = x;\n\t        this.y = y;\n\t        this.w = w;\n\t        this.h = h;\n\t    }\n\t\n\t    _createClass(Rect, [{\n\t        key: 'contains',\n\t        value: function contains(p) {}\n\t    }, {\n\t        key: 'at',\n\t        value: function at() {\n\t            var t = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t        }\n\t\n\t        // TODO toString, transform, rotate, reflect, scale, shift\n\t    }, {\n\t        key: 'center',\n\t        get: function get() {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'circumference',\n\t        get: function get() {\n\t            return 2 * this.w + 2 * this.h;\n\t        }\n\t    }, {\n\t        key: 'area',\n\t        get: function get() {\n\t            return Math.abs(this.w * this.h);\n\t        }\n\t    }, {\n\t        key: 'polygon',\n\t        get: function get() {\n\t            var a = new Point(this.x, this.y);\n\t            var b = new Point(this.x + this.w, this.y);\n\t            var c = new Point(this.x + this.w, this.y + this.h);\n\t            var d = new Point(this.x, this.y + this.h);\n\t            return new Polygon(a, b, c, d);\n\t        }\n\t    }]);\n\t\n\t    return Rect;\n\t})(Base);\n\t\n\tvar Square = (function (_Rect) {\n\t    _inherits(Square, _Rect);\n\t\n\t    function Square() {\n\t        _classCallCheck(this, Square);\n\t\n\t        _get(Object.getPrototypeOf(Square.prototype), 'constructor', this).apply(this, arguments);\n\t    }\n\t\n\t    return Square;\n\t})(Rect);\n\t\n\t// TODO\n\t\n\t// -------------------------------------------------------------------------\n\t// Polygons and Triangles\n\t\n\tvar Polygon = (function () {\n\t    function Polygon() {\n\t        _classCallCheck(this, Polygon);\n\t\n\t        for (var _len2 = arguments.length, points = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t            points[_key2] = arguments[_key2];\n\t        }\n\t\n\t        this.points = points;\n\t    }\n\t\n\t    _createClass(Polygon, [{\n\t        key: 'contains',\n\t\n\t        // TODO\n\t        value: function contains(p) {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'at',\n\t        value: function at() {\n\t            var t = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t        }\n\t        // TODO\n\t\n\t        // TODO toString, transform, rotate, reflect, scale, shift\n\t\n\t    }, {\n\t        key: 'circumference',\n\t        get: function get() {\n\t            var C = 0;\n\t            this.points.each(function () {\n\t                C += distance(p[i - 1], p[i]);\n\t            });\n\t            C += distance(p[n - 1], p[0]);\n\t            return C;\n\t        }\n\t    }, {\n\t        key: 'area',\n\t        get: function get() {\n\t            var p = this.points;\n\t            var n = p.length;\n\t            var A = p[0].x * p[n - 1].y - p[n - 1].x * p[0].y;\n\t\n\t            for (var i = 1; i < n; ++i) A += p[i - 1].x * p[i].y - p[i].x * p[i - 1].y;\n\t\n\t            return Math.abs(A / 2);\n\t        }\n\t    }, {\n\t        key: 'center',\n\t        get: function get() {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'centroid',\n\t        get: function get() {}\n\t    }]);\n\t\n\t    return Polygon;\n\t})();\n\t\n\tvar Triangle = (function (_Polygon) {\n\t    _inherits(Triangle, _Polygon);\n\t\n\t    function Triangle() {\n\t        _classCallCheck(this, Triangle);\n\t\n\t        _get(Object.getPrototypeOf(Triangle.prototype), 'constructor', this).call(this); // TODO\n\t\n\t        for (var _len3 = arguments.length, points = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t            points[_key3] = arguments[_key3];\n\t        }\n\t\n\t        if (points.length !== 3) throw new Error('Triangles need exactly 3 vertices.');\n\t        this.points = points;\n\t    }\n\t\n\t    // -------------------------------------------------------------------------\n\t    // Angles\n\t\n\t    _createClass(Triangle, [{\n\t        key: 'circumcircle',\n\t        get: function get() {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'incircle',\n\t        get: function get() {\n\t            // TODO\n\t        }\n\t    }]);\n\t\n\t    return Triangle;\n\t})(Polygon);\n\t\n\tfunction angle(a, b, c) {\n\t    var phiA = Math.atan2(a.y - b.y, a.x - b.x);\n\t    var phiC = Math.atan2(c.y - b.y, c.x - b.x);\n\t    var phi = phiC - phiA;\n\t\n\t    if (phi < 0) phi += 2 * Math.PI;\n\t    return phi;\n\t}\n\t\n\t// -------------------------------------------------------------------------\n\t// Equality Checking\n\t\n\tvar isSame = {\n\t    point: function point(p1, p2) {\n\t        return (0, _utilities.almost)(p1.x, p2.x) && (0, _utilities.almost)(p1.y, p2.y);\n\t    },\n\t\n\t    line: function line(l1, l2, unoriented) {\n\t        return same.point(l1.p1, l2.p1) && same.point(l1.p2, l2.p2) || unoriented && same.point(l1.p1, l2.p2) && same.point(l1.p2, l2.p1);\n\t    },\n\t\n\t    rect: function rect(r1, r2, unoriented) {\n\t        // TODO\n\t    },\n\t\n\t    circle: function circle(c1, c2, unoriented) {\n\t        // TODO\n\t    },\n\t\n\t    polygon: function polygon(p1, p2, unoriented) {\n\t        // TODO\n\t    }\n\t};\n\t\n\tfunction same(a, b, unOriented) {\n\t    var type = getGeoType(a);\n\t    if (type !== getGeoType(b)) return false;\n\t    var sameFn = isSame[type];\n\t    if (sameFn) return sameFn(a, b, unOriented);\n\t}\n\t\n\t// -------------------------------------------------------------------------\n\t// Intersections and Overlaps\n\t\n\tfunction pointPointIntersect(p1, p2) {\n\t    return same(p1, p2) ? [new Point(p1.x, p2.x)] : [];\n\t}\n\t\n\tfunction pointLineIntersect(p, l) {\n\t    // TODO check that p lies on l\n\t}\n\t\n\tfunction pointRectIntersect(p, r) {\n\t    // TODO\n\t}\n\t\n\tfunction pointCircleIntersect(p, c) {\n\t    // TODO\n\t}\n\t\n\tfunction pointPolygonIntersect(p1, p2) {\n\t    // TODO\n\t}\n\t\n\tfunction lineLineIntersect(l1, l2) {\n\t\n\t    var s = same.point(l1.p1, l2.p1) + same.point(l1.p1, l2.p2) + same.point(l1.p2, l2.p1) + same.point(l1.p2, l2.p2);\n\t\n\t    if (s === 2) return l1.p1; // same lines intersect\n\t    if (s === 1) return; // connected lines don't intersect\n\t\n\t    var d1 = [l1.p2.x - l1.p1.x, l1.p2.y - l1.p1.y];\n\t    var d2 = [l2.p2.x - l2.p1.x, l2.p2.y - l2.p1.y];\n\t    var d = [l2.p1.x - l1.p1.x, l2.p1.y - l1.p1.y];\n\t\n\t    var denominator = _vector2['default'].cross2D(d2, d1);\n\t    if (denominator === 0) return; // -> colinear\n\t\n\t    var n1 = M.vector.cross2D(d1, d);\n\t    var n2 = M.vector.cross2D(d2, d);\n\t\n\t    var x = n2 / denominator;\n\t    var y = n1 / denominator;\n\t\n\t    if ((0, _utilities.between)(x, 0, 1) && (0, _utilities.between)(y, 0, 1)) {\n\t        var intersectionX = l1.p1.x + x * (l1.p2.x - l1.p1.x);\n\t        var intersectionY = l1.p1.y + y * (l1.p2.y - l1.p1.y);\n\t        return new Point(intersectionX, intersectionY);\n\t    }\n\t}\n\t\n\tfunction lineCircleIntersect(l, c) {\n\t    // TODO\n\t}\n\t\n\tfunction linePolygonIntersect(l, c) {\n\t    // TODO\n\t}\n\t\n\tfunction rectRectIntersect() {\n\t    // TODO\n\t}\n\t\n\tfunction polygonPolygonIntersect() {\n\t    // TODO\n\t}\n\t\n\tfunction intersect(_x29, _x30) {\n\t    var _arguments2 = arguments;\n\t    var _again2 = true;\n\t\n\t    _function2: while (_again2) {\n\t        var x = _x29,\n\t            y = _x30;\n\t        rest = undefined;\n\t        _again2 = false;\n\t\n\t        if (_arguments2.length > 2) {\n\t            var rest = _arraySlice.call(_arguments2, 1); // TODO fix\n\t            _arguments2 = [_x29 = x, _x30 = intersect.apply(undefined, _toConsumableArray(rest))];\n\t            _again2 = true;\n\t            continue _function2;\n\t        }\n\t\n\t        // Handle Rectangles\n\t        if (x instanceof Rect && y instanceof Rect) return rectRectIntersect(x, y);\n\t        if (x instanceof Rect) x = x.toPolygon();\n\t        if (y instanceof Rect) y = y.toPolygon();\n\t\n\t        switch (getGeoType(x) + '-' + getGeoType(y)) {\n\t            case 'line-line':\n\t                return lineIntersect(x, y);\n\t            case 'line-circle':\n\t                return lineCircleIntersect(x, y);\n\t            case 'line-polygon':\n\t                return linePolygonIntersect(x, y);\n\t            case 'circle-line':\n\t                return lineCircleIntersect(y, x);\n\t            case 'polygon-line':\n\t                return linePolygonIntersect(y, x);\n\t            case 'polygon-polygon':\n\t                return polygonPolygonIntersect(x, y);\n\t        }\n\t\n\t        throw new Error('Can\\'t intersect ' + getGeoType(x) + 's and ' + getGeoType(y) + '.');\n\t    }\n\t}\n\t\n\t// -------------------------------------------------------------------------\n\t// Computational Geometry\n\t\n\tfunction convexHull() {\n\t    // TODO\n\t}\n\t\n\tfunction travellingSalesman(dist) {\n\t    var n = dist.length;\n\t    var cities = M.list(n);\n\t\n\t    var minLength = Infinity;\n\t    var minPath = null;\n\t\n\t    M.permutations(cities).each(function (path) {\n\t        var length = 0;\n\t        for (var i = 0; i < n - 1; ++i) {\n\t            length += dist[path[i]][path[i + 1]];\n\t            if (length > minLength) return;\n\t        }\n\t        if (length < minLength) minLength = length;\n\t        minPath = path;\n\t    });\n\t\n\t    return { path: minPath, length: minLength };\n\t}\n\t\n\t// -------------------------------------------------------------------------\n\t\n\texports['default'] = {\n\t    Point: Point, Line: Line, Bezier: Bezier, Ellipse: Ellipse, Circle: Circle, Rect: Rect, Square: Square, Polygon: Polygon,\n\t    angle: angle, same: same, intersect: intersect, convexHull: convexHull, travellingSalesman: travellingSalesman\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// =============================================================================\n\t// Fermat.js | Matrix\n\t// *** EXPERIMENTAL ***\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _vector = __webpack_require__(2);\n\t\n\tvar _vector2 = _interopRequireDefault(_vector);\n\t\n\tvar Matrix = (function () {\n\t\n\t    // -------------------------------------------------------------------------\n\t    // Contructors\n\t\n\t    // new Matrix([[1,2],[3,4]]) = [[1,2],[3,4]];\n\t    // new Matrix(2) = [[0,0],[0,0]];\n\t    // new Matrix(2,3) = [[0,0,0],[0,0,0]]\n\t    // new Matrix(2,3,1) = [[1,1,1],[1,1,1]]\n\t\n\t    function Matrix(a) {\n\t        var b = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t        var c = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t        _classCallCheck(this, Matrix);\n\t\n\t        if (!(this instanceof Matrix)) return new Matrix(arguments);\n\t\n\t        var isArray = Array.isArray(a);\n\t        this.rows = isArray ? a.length : a;\n\t        this.columns = isArray ? Math.max.apply(Math, _toConsumableArray(a.map(function (x) {\n\t            return x.length;\n\t        }))) : b == null ? a : b;\n\t\n\t        for (var i = 0; i < this.rows; ++i) {\n\t            this[i] = [];\n\t            for (var j = 0; j < this.columns; ++j) {\n\t                var val = isArray ? a[i][j] : c;\n\t                this[i][j] = val != null ? val : null;\n\t            }\n\t        }\n\t    }\n\t\n\t    _createClass(Matrix, [{\n\t        key: 'row',\n\t        value: function row(i) {\n\t            return new _vector2['default'](this[i]);\n\t        }\n\t    }, {\n\t        key: 'column',\n\t        value: function column(j) {\n\t            var c = [];\n\t            for (var i = 0; i < this.rows; ++i) {\n\t                c.push(this[i][j]);\n\t            }return new _vector2['default'](c);\n\t        }\n\t    }, {\n\t        key: 'scalarMultiply',\n\t        value: function scalarMultiply(val) {\n\t            var result = [];\n\t            for (var i = 0; i < this.rows; i++) {\n\t                result[i] = [];\n\t                for (var j = 0; j < this.columns; j++) {\n\t                    result[i][j] = val * this[i][j];\n\t                }\n\t            }\n\t            return new Matrix(result);\n\t        }\n\t    }, {\n\t        key: 'isSquare',\n\t\n\t        // TODO\n\t\n\t        // -------------------------------------------------------------------------\n\t        // Getters and Methods\n\t\n\t        get: function get() {\n\t            return this.rows === this.cols;\n\t        }\n\t    }, {\n\t        key: 'transpose',\n\t        get: function get() {\n\t            var newMatrix = [];\n\t\n\t            for (var i = 0; i < this.columns; ++i) {\n\t                this[i] = [];\n\t                for (var j = 0; j < this.rows; ++j) {\n\t                    newMatrix[i][j] = this[j][i];\n\t                }\n\t            }\n\t\n\t            return new Matrix(newMatrix);\n\t        }\n\t    }, {\n\t        key: 'determinant',\n\t        get: function get() {\n\t            if (!this.isSquare()) throw new Error('Not a square matrix.');\n\t            var n = this.rows,\n\t                det = 0;\n\t\n\t            if (n === 1) {\n\t                return this[0][0];\n\t            } else if (n === 2) {\n\t                return this[0][0] * this[1][1] - this[0][1] * this[1][0];\n\t            }\n\t\n\t            for (var col = 0; col < this.cols; ++col) {\n\t                var diagLeft = this[0][col];\n\t                var diagRight = this[0][col];\n\t\n\t                for (var row = 1; row < rows; ++row) {\n\t                    diagRight *= this[row][col + row % n];\n\t                    diagLeft *= this[row][col - row % n];\n\t                }\n\t\n\t                det += diagRight - diagLeft;\n\t            }\n\t\n\t            return det;\n\t        }\n\t    }, {\n\t        key: 'inverse',\n\t        get: function get() {}\n\t        // TODO\n\t\n\t        // -------------------------------------------------------------------------\n\t        // Static Methods\n\t\n\t    }], [{\n\t        key: 'identity',\n\t        value: function identity() {\n\t            var n = arguments.length <= 0 || arguments[0] === undefined ? 2 : arguments[0];\n\t\n\t            var x = new Matrix(n, n, 0);\n\t            for (var i = 0; i < n; ++i) {\n\t                x[i][i] = 1;\n\t            }return x;\n\t        }\n\t    }, {\n\t        key: 'rotation',\n\t        value: function rotation(angle) {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'shear',\n\t        value: function shear(s) {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'reflection',\n\t        value: function reflection() {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'projection',\n\t        value: function projection() {}\n\t    }, {\n\t        key: 'add',\n\t        value: function add(m1, m2) {\n\t            if (m1.rows !== m2.rows || m1.cols !== m2.cols) throw new Error('Matrix size mismatch');\n\t\n\t            var result = [];\n\t\n\t            for (var i = 0; i < m1.length; ++i) {\n\t                result[i] = [];\n\t                for (var j = 0; j < m1[i].length; ++j) {\n\t                    result[i][j] = m1[i][j] + m2[i][j];\n\t                }\n\t            }\n\t\n\t            return M.Matrix(result);\n\t        }\n\t    }, {\n\t        key: 'productVM',\n\t        value: function productVM(v, m) {\n\t            return Matrix.productMV(m.transpose, v);\n\t        }\n\t    }, {\n\t        key: 'productMV',\n\t        value: function productMV(m, v) {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'productMM',\n\t        value: function productMM(m1, m2) {\n\t            // TODO\n\t        }\n\t    }, {\n\t        key: 'product',\n\t        value: function product(a, b) {\n\t            if (a instanceof _vector2['default'] && b instanceof Matrix) {\n\t                return Matrix.productVM(a, b);\n\t            } else if (a instanceof Matrix && b instanceof _vector2['default']) {\n\t                return Matrix.productMV(a, b);\n\t            } else if (a instanceof Matrix && b instanceof Matrix) {\n\t                return Matrix.productMM(a, b);\n\t            } else {\n\t                throw new Error('Can\\'t multiply these two objects.');\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Matrix;\n\t})();\n\t\n\texports['default'] = Matrix;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ============================================================================\n\t// Fermat.js | Number Theory\n\t// (c) 2015 Mathigon\n\t// ============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _utilities = __webpack_require__(1);\n\t\n\tvar _utilities2 = _interopRequireDefault(_utilities);\n\t\n\tvar _arrays = __webpack_require__(4);\n\t\n\tvar _arrays2 = _interopRequireDefault(_arrays);\n\t\n\tvar smallPrimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97];\n\t\n\tfunction gcd(_x2) {\n\t    var _arguments = arguments;\n\t    var _again = true;\n\t\n\t    _function: while (_again) {\n\t        var first = _x2;\n\t        _len = rest = _key = mod = a = b = undefined;\n\t        _again = false;\n\t\n\t        for (var _len = _arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t            rest[_key - 1] = _arguments[_key];\n\t        }\n\t\n\t        if (rest.length > 1) {\n\t            _arguments = [_x2 = first, gcd.apply(undefined, rest)];\n\t            _again = true;\n\t            continue _function;\n\t        }\n\t\n\t        var mod = undefined;\n\t        var a = Math.abs(first);\n\t        var b = Math.abs(rest[0]);\n\t\n\t        while (b) {\n\t            mod = a % b;\n\t            a = b;\n\t            b = mod;\n\t        }\n\t\n\t        return a;\n\t    }\n\t}\n\t\n\tfunction lcm(_x3) {\n\t    var _arguments2 = arguments;\n\t    var _again2 = true;\n\t\n\t    _function2: while (_again2) {\n\t        var first = _x3;\n\t        _len2 = rest = _key2 = a = b = undefined;\n\t        _again2 = false;\n\t\n\t        for (var _len2 = _arguments2.length, rest = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t            rest[_key2 - 1] = _arguments2[_key2];\n\t        }\n\t\n\t        if (rest.length > 1) {\n\t            _arguments2 = [_x3 = first, lcm.apply(undefined, rest)];\n\t            _again2 = true;\n\t            continue _function2;\n\t        }\n\t\n\t        var a = Math.abs(first);\n\t        var b = Math.abs(rest[0]);\n\t\n\t        return Math.abs(a * b) / gcd(a, b);\n\t    }\n\t}\n\t\n\tfunction isPrime(n) {\n\t    if (n <= 1 || !(0, _utilities2['default'])(n)) return false;\n\t    if (n < 101) return smallPrimes.indexOf(n) >= 0;\n\t    if (n % 2 === 0) return false;\n\t\n\t    var sqrt = Math.sqrt(n);\n\t    for (var i = 3; i <= sqrt; i += 2) {\n\t        if (n % i === 0) return false;\n\t    }\n\t\n\t    return true;\n\t}\n\t\n\tfunction primeFactorisation(n) {\n\t    if (n === 1) return [];\n\t    if (isPrime(n)) return [n];\n\t\n\t    var maxf = Math.sqrt(n);\n\t    for (var f = 2; f <= maxf; ++f) {\n\t        if (n % f === 0) return primeFactorisation(f).concat(primeFactorisation(n / f));\n\t    }\n\t}\n\t\n\tfunction primeFactors(n) {\n\t    return (0, _arrays2['default'])(primeFactorisation(n));\n\t}\n\t\n\tfunction listPrimes() {\n\t    var n = arguments.length <= 0 || arguments[0] === undefined ? 100 : arguments[0];\n\t\n\t    if (n < 2) return [];\n\t    var result = [2];\n\t\n\t    for (var i = 3; i <= n; i++) {\n\t        var notMultiple = false;\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t            for (var _iterator = result[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                var r = _step.value;\n\t\n\t                notMultiple = notMultiple || 0 === i % r;\n\t            }\n\t        } catch (err) {\n\t            _didIteratorError = true;\n\t            _iteratorError = err;\n\t        } finally {\n\t            try {\n\t                if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                    _iterator['return']();\n\t                }\n\t            } finally {\n\t                if (_didIteratorError) {\n\t                    throw _iteratorError;\n\t                }\n\t            }\n\t        }\n\t\n\t        if (!notMultiple) result.push(i);\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\texports['default'] = { gcd: gcd, lcm: lcm, isPrime: isPrime, primeFactorisation: primeFactorisation, primeFactors: primeFactors, listPrimes: listPrimes };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t// ============================================================================\n\t// Fermat.js | Numeric Mathematics\n\t// (c) 2015 Mathigon\n\t// ============================================================================\n\t\n\t// bisect(function(x){ return Math.cos(x/2); }, 10) => Pi\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tfunction bisect(fn) {\n\t    var precision = arguments.length <= 1 || arguments[1] === undefined ? 3 : arguments[1];\n\t    var l = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t    var h = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];\n\t\n\t    var p = Math.pow(10, -precision);\n\t    var q = Math.pow(10, precision);\n\t\n\t    var lf = fn(l);\n\t    var ls = Math.sign(lf);\n\t    if (ls === 0) return l;\n\t    var hf = undefined,\n\t        hs = undefined;\n\t\n\t    if (h == null) {\n\t        h = 0.5;\n\t        do {\n\t            h *= 2;\n\t            hf = fn(h);\n\t            hs = Math.sign(hf);\n\t        } while (hs === ls);\n\t        if (hs === 0) return h;\n\t    }\n\t\n\t    var x = 0;\n\t    while (Math.abs(lf) > p && x < 200) {\n\t\n\t        var c = (l + h) / 2;\n\t        var cf = fn(c);\n\t        var cs = Math.sign(cf);\n\t        if (cs === 0) return c;\n\t\n\t        if (cs === ls) {\n\t            l = c;\n\t            lf = cf;\n\t        } else {\n\t            h = c;\n\t            hf = cf;\n\t        }\n\t\n\t        ++x;\n\t    }\n\t\n\t    return Math.round(l * q) * p;\n\t}\n\t\n\texports[\"default\"] = { bisect: bisect };\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ============================================================================\n\t// Fermat.js | Random\n\t// (c) 2015 Mathigon / Philipp Legner\n\t// ============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _utilitiesJs = __webpack_require__(1);\n\t\n\t// -----------------------------------------------------------------------------\n\t// Array Shuffle\n\t\n\t// Randomly shuffles the elements in an array\n\tfunction shuffle(a) {\n\t    a = a.slice(0); // create copy\n\t    var j = undefined,\n\t        tmp = undefined;\n\t    for (var i = a.length - 1; i; --i) {\n\t        j = Math.floor(Math.random() * (i + 1));\n\t        tmp = a[j];\n\t        a[j] = a[i];\n\t        a[i] = tmp;\n\t    }\n\t    return a;\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Simple Random Number Generators\n\t\n\tfunction integer(a) {\n\t    var b = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t\n\t    var start = b == null ? 0 : a;\n\t    var length = b == null ? a : b - a + 1;\n\t    return start + Math.floor(length * Math.random());\n\t}\n\t\n\tfunction intArray(n) {\n\t    var a = [];\n\t    for (var i = 0; i < n; ++i) {\n\t        a.push(i);\n\t    }return shuffle(a);\n\t}\n\t\n\t// Choses a random value from weights [2, 5, 3] or { a: 2, b: 5, c: 3 }\n\t// Total is optional to specify the total of the weights.\n\t// This is useful if the function is called repeatedly.\n\tfunction weighted(obj) {\n\t    var setTotal = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t\n\t    var total = 0;\n\t    if (setTotal == null) {\n\t        (0, _utilitiesJs.each)(obj, function (x) {\n\t            total += +x;\n\t        });\n\t    } else {\n\t        total = setTotal;\n\t    }\n\t\n\t    var rand = Math.random() * total;\n\t    var curr = 0;\n\t\n\t    return (0, _utilitiesJs.some)(obj, function (x, i) {\n\t        curr += obj[i];\n\t        if (rand <= curr) return i;\n\t    });\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Smart Random Number Generators\n\t\n\tvar smartRandomCache = new Map();\n\t\n\t// Avoids returning the same number multiple times in a row\n\tfunction smart(n, id) {\n\t    if (!smartRandomCache.has(id)) smartRandomCache.set(id, (0, _utilitiesJs.tabulate)(1, n));\n\t\n\t    var cache = smartRandomCache.get(id);\n\t    var x = weighted(cache.map(function (x) {\n\t        return x * x;\n\t    }));\n\t\n\t    cache[x] -= 1;\n\t    if (cache[x] <= 0) smartRandomCache.set(id, cache.map(function (x) {\n\t        return x + 1;\n\t    }));\n\t\n\t    return x;\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Discrete Distribution\n\t\n\tfunction bernoulli() {\n\t    var p = arguments.length <= 0 || arguments[0] === undefined ? 0.5 : arguments[0];\n\t\n\t    p = Math.max(0, Math.min(1, p));\n\t    return Math.random() < p ? 1 : 0;\n\t}\n\t\n\tfunction binomial() {\n\t    var n = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t    var p = arguments.length <= 1 || arguments[1] === undefined ? 0.5 : arguments[1];\n\t\n\t    var t = 0;\n\t    for (var i = 0; i < n; ++i) {\n\t        t += bernoulli(p);\n\t    }return t;\n\t}\n\t\n\tfunction poisson() {\n\t    var l = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t\n\t    if (l <= 0) return 0;\n\t    var L = Math.exp(-l),\n\t        p = 1;\n\t    for (var _k = 0; p > L; ++_k) {\n\t        p *= Math.random();\n\t    }return k - 1;\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Continuous Distribution\n\t\n\tfunction uniform() {\n\t    var a = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t    var b = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t\n\t    return a + (b - a) * Math.random();\n\t}\n\t\n\tfunction normal() {\n\t    var m = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t    var v = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t\n\t    var u1 = Math.random();\n\t    var u2 = Math.random();\n\t    var rand = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);\n\t\n\t    return rand * Math.sqrt(v) + m;\n\t}\n\t\n\tfunction exponential() {\n\t    var l = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t\n\t    return l <= 0 ? 0 : -Math.log(Math.random()) / l;\n\t}\n\t\n\tfunction geometric() {\n\t    var p = arguments.length <= 0 || arguments[0] === undefined ? 0.5 : arguments[0];\n\t\n\t    if (p <= 0 || p > 1) return null;\n\t    return Math.floor(Math.log(Math.random()) / Math.log(1 - p));\n\t}\n\t\n\tfunction cauchy() {\n\t    var rr = undefined,\n\t        v1 = undefined,\n\t        v2 = undefined;\n\t    do {\n\t        v1 = 2 * Math.random() - 1;\n\t        v2 = 2 * Math.random() - 1;\n\t        rr = v1 * v1 + v2 * v2;\n\t    } while (rr >= 1);\n\t    return v1 / v2;\n\t}\n\t\n\tfunction normalPDF(x) {\n\t    var m = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t    var v = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t\n\t    return Math.exp(-(0, _utilitiesJs.square)(x - m) / (2 * v)) / Math.sqrt(2 * Math.PI * v);\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\texports['default'] = {\n\t    integer: integer, intArray: intArray, weighted: weighted, smart: smart, shuffle: shuffle, bernoulli: bernoulli, binomial: binomial, poisson: poisson,\n\t    uniform: uniform, normal: normal, exponential: exponential, geometric: geometric, cauchy: cauchy, normalPDF: normalPDF\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ============================================================================\n\t// Fermat.js | Statistics\n\t// (c) 2015 Mathigon\n\t// ============================================================================\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _utilities = __webpack_require__(1);\n\t\n\t// -----------------------------------------------------------------------------\n\t// Mean, Media, Mode\n\t\n\tfunction mean(a) {\n\t    return a.length ? (0, _utilities.total)(a) / a.length : null;\n\t}\n\t\n\tfunction median(values) {\n\t    var n = values.length;\n\t    if (!n) return 0;\n\t\n\t    var sorted = values.slice(0).sort();\n\t    return n % 2 === 1 ? sorted[Math.floor(n / 2)] : (sorted[n / 2 - 1] + sorted[n / 2]) / 2;\n\t}\n\t\n\t// Returns 'null' if no mode exists (multiple values with the same largest count)\n\tfunction mode(values) {\n\t    var counts = new Map();\n\t\n\t    var modeCount = -1;\n\t    var result = undefined;\n\t\n\t    var _iteratorNormalCompletion = true;\n\t\n\t    // iterate again to check for 'no mode'\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var v = _step.value;\n\t\n\t            if (!counts.has(v)) {\n\t                counts.set(v, 1);\n\t            } else {\n\t                var newCount = counts.get(v) + 1;\n\t                counts.set(v, newCount);\n\t                if (newCount > modeCount) {\n\t                    modeCount = newCount;\n\t                    result = v;\n\t                }\n\t            }\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                _iterator['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t\n\t    var _iteratorNormalCompletion2 = true;\n\t    var _didIteratorError2 = false;\n\t    var _iteratorError2 = undefined;\n\t\n\t    try {\n\t        for (var _iterator2 = counts.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t            var i = _step2.value;\n\t\n\t            if (i[1] === modeCount && i[0] !== result) {\n\t                return null;\n\t            }\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n\t                _iterator2['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError2) {\n\t                throw _iteratorError2;\n\t            }\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Variance\n\t\n\tfunction variance(values) {\n\t    if (!values.length) return null;\n\t    var mean = mean(values);\n\t\n\t    var sum = 0;\n\t    var _iteratorNormalCompletion3 = true;\n\t    var _didIteratorError3 = false;\n\t    var _iteratorError3 = undefined;\n\t\n\t    try {\n\t        for (var _iterator3 = values[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t            var v = _step3.value;\n\t            sum += (0, _utilities.square)(v - mean);\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError3 = true;\n\t        _iteratorError3 = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n\t                _iterator3['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError3) {\n\t                throw _iteratorError3;\n\t            }\n\t        }\n\t    }\n\t\n\t    return sum / (n - 1);\n\t}\n\t\n\tfunction stdDev(values) {\n\t    return Math.sqrt(variance(values));\n\t}\n\t\n\t// Determines the covariance of the numbers in two arrays aX and aY\n\tfunction covariance(aX, aY) {\n\t    if (aX.length !== aY.length) throw new Error('Array length mismatch');\n\t    var n = aX.length;\n\t    var total = 0;\n\t    for (var i = 0; i < n; i++) total += aX[i] * aY[i];\n\t    return (total - total(aX) * total(aY) / n) / n;\n\t}\n\t\n\tfunction correlation(aX, aY) {\n\t    if (aX.length !== aY.length) throw new Error('Array length mismatch');\n\t    var covarXY = covariance(aX, aY);\n\t    var stdDevX = stdDev(aX);\n\t    var stdDevY = stdDev(aY);\n\t    return covarXY / (stdDevX * stdDevY);\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t// Regression\n\t\n\tfunction rSquared(source, regression) {\n\t    var sourceMean = mean(source);\n\t\n\t    var residualSquares = source.map(function (d, i) {\n\t        return (0, _utilities.square)(d - regression[i]);\n\t    });\n\t    var totalSquares = source.map(function (d) {\n\t        return (0, _utilities.square)(d - sourceMean);\n\t    });\n\t\n\t    return 1 - (0, _utilities.total)(residualSquares) / (0, _utilities.total)(totalSquares);\n\t}\n\t\n\tfunction linearRegression(aX, aY) {\n\t    var n = aX.length;\n\t\n\t    var sumX = (0, _utilities.total)(aX);\n\t    var sumY = (0, _utilities.total)(aY);\n\t    var sumXY = (0, _utilities.total)(aX.map(function (d, i) {\n\t        return d * aY[i];\n\t    }));\n\t    var sumXSquared = (0, _utilities.total)(aX.map(function (d) {\n\t        return d * d;\n\t    }));\n\t\n\t    var meanX = mean(aX);\n\t    var meanY = mean(aY);\n\t\n\t    var b = (sumXY - 1 / n * sumX * sumY) / (sumXSquared - 1 / n * (sumX * sumX));\n\t    var a = meanY - b * meanX;\n\t\n\t    return function (x) {\n\t        return a + b * x;\n\t    };\n\t}\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\texports['default'] = {\n\t    mean: mean, median: median, mode: mode, variance: variance, stdDev: stdDev, covariance: covariance,\n\t    correlation: correlation, rSquared: rSquared, linearRegression: linearRegression\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t// =============================================================================\n\t// Fermat.js | Units\n\t// (c) 2015 Mathigon\n\t// =============================================================================\n\t\n\t// -----------------------------------------------------------------------------\n\t// Configuration\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tvar prefixes = {\n\t    da: { name: 'deca', value: 1e1 },\n\t    h: { name: 'hecto', value: 1e2 },\n\t    k: { name: 'kilo', value: 1e3 },\n\t    M: { name: 'mega', value: 1e6 },\n\t    G: { name: 'giga', value: 1e9 },\n\t    T: { name: 'tera', value: 1e12 },\n\t    P: { name: 'peta', value: 1e15 },\n\t    E: { name: 'exa', value: 1e18 },\n\t    Z: { name: 'zetta', value: 1e21 },\n\t    Y: { name: 'yotta', value: 1e24 },\n\t\n\t    d: { name: 'deci', value: 1e-1 },\n\t    c: { name: 'centi', value: 1e-2 },\n\t    m: { name: 'milli', value: 1e-3 },\n\t    u: { name: 'micro', value: 1e-6 },\n\t    n: { name: 'nano', value: 1e-9 },\n\t    p: { name: 'pico', value: 1e-12 },\n\t    f: { name: 'femto', value: 1e-15 },\n\t    a: { name: 'atto', value: 1e-18 },\n\t    z: { name: 'zepto', value: 1e-21 },\n\t    y: { name: 'yocto', value: 1e-24 }\n\t};\n\t\n\tvar baseUnits = {\n\t    length: 'm',\n\t    surface: 'm2',\n\t    volume: 'm3',\n\t    mass: 'kg',\n\t    time: 's',\n\t    angle: 'rad',\n\t    current: 'a',\n\t    temperature: 'K',\n\t    substance: 'mol',\n\t    force: 'N',\n\t    bit: 'b'\n\t};\n\t\n\tvar units = {\n\t\n\t    // Length\n\t    m: { name: 'meter', type: 'length', value: 1 },\n\t    'in': { name: 'inch', type: 'length', value: 0.0254 },\n\t    ft: { name: 'foot', type: 'length', value: 0.3048 },\n\t    yd: { name: 'yard', type: 'length', value: 0.9144 },\n\t    mi: { name: 'mile', type: 'length', value: 1609.344 },\n\t    AA: { name: 'angstrom', type: 'length', value: 1e-10 },\n\t\n\t    // Surface\n\t    m2: { name: 'm2', type: 'surface', power: 2, value: 1 },\n\t    sqin: { name: 'sqin', type: 'surface', power: 2, value: 0.00064516 },\n\t    sqft: { name: 'sqft', type: 'surface', power: 2, value: 0.09290304 },\n\t    sqyd: { name: 'sqyd', type: 'surface', power: 2, value: 0.83612736 },\n\t    sqmi: { name: 'sqmi', type: 'surface', power: 2, value: 2589988.110336 },\n\t\n\t    // Volume\n\t    m3: { name: 'm3', type: 'volume', value: 1 },\n\t    l: { name: 'litre', type: 'volume', value: 0.001 },\n\t    cup: { name: 'cup', type: 'volume', value: 0.0002365882 },\n\t    pint: { name: 'pint', type: 'volume', value: 0.0004731765 },\n\t    quart: { name: 'quart', type: 'volume', value: 0.0009463529 },\n\t    gallon: { name: 'gallon', type: 'volume', value: 0.003785412 },\n\t    barrel: { name: 'barrel', type: 'volume', value: 0.1589873 },\n\t\n\t    // Mass\n\t    g: { name: 'gram', type: 'mass', value: 0.001 },\n\t    ton: { name: 'ton', type: 'mass', value: 907.18474 },\n\t    oz: { name: 'ounce', type: 'mass', value: 28.349523125e-3 },\n\t    lbm: { name: 'pound', type: 'mass', value: 453.59237e-3 },\n\t\n\t    // Time\n\t    s: { name: 'second', type: 'time', value: 1 },\n\t    min: { name: 'minute', type: 'time', value: 60 },\n\t    h: { name: 'hour', type: 'time', value: 3600 },\n\t    d: { name: 'day', type: 'time', value: 86400 },\n\t    w: { name: 'week', type: 'time', value: 604800 },\n\t    mon: { name: 'month', type: 'time', value: 2629740 },\n\t    y: { name: 'year', type: 'time', value: 31556900 },\n\t\n\t    // Angle\n\t    rad: { name: 'rad', type: 'angle', value: 1 },\n\t    deg: { name: 'deg', type: 'angle', value: 0.017453292519943295769236907684888 },\n\t    grad: { name: 'grad', type: 'angle', value: 0.015707963267948966192313216916399 },\n\t    cyc: { name: 'cycle', type: 'angle', value: 6.2831853071795864769252867665793 },\n\t\n\t    // Electric Current\n\t    A: { name: 'ampere', type: 'current', value: 1 },\n\t\n\t    // Temperature\n\t    K: { name: 'kelvin', type: 'temperature', value: 1 },\n\t    degC: { name: 'celsius', type: 'temperature', value: 1, offset: 273.15 },\n\t    degF: { name: 'fahrenheit', type: 'temperature', value: 1 / 1.8, offset: 459.67 },\n\t\n\t    // Amount of Substance\n\t    mol: { name: 'mole', type: 'substance', value: 1 },\n\t\n\t    // Force\n\t    N: { name: 'newton', type: 'force', value: 1 },\n\t    lbf: { name: 'poundforce', type: 'force', value: 4.4482216152605 },\n\t\n\t    // Binary\n\t    b: { name: 'bits', type: 'data', value: 1 },\n\t    B: { name: 'bytes', type: 'data', value: 8 }\n\t};\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Create Regex\n\t\n\tvar prefixRegexp = prefixes.keys().join('|');\n\tvar unitRegexp = units.keys().join('|');\n\tvar regexp = new RegExp('^(' + prefixRegexp + ')?(' + unitRegexp + ')$');\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t// Exports\n\t\n\tfunction to(val, fromUnit) {\n\t    var toUnit = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t    var f = fromUnit.match(regexp);\n\t    var prefix = f[1];\n\t    var unit = f[2];\n\t\n\t    var prefixValue = prefix ? prefixes[prefix].value || 0 : 1;\n\t    var unitValue = units[unit].value || 1;\n\t    var unitOffset = units[unit].offset || 0;\n\t\n\t    var newVal = (val * unitValue + unitOffset) * prefixValue;\n\t    if (toUnit == null) return newVal;\n\t\n\t    f = toUnit.match(regexp);\n\t    prefix = f[1];\n\t    unit = f[2];\n\t\n\t    prefixValue = prefix ? prefixes[prefix].value || 0 : 1;\n\t    unitValue = units[unit].value || 1;\n\t    unitOffset = units[unit].offset || 0;\n\t\n\t    return (newVal / prefixValue - unitOffset) / unitValue;\n\t}\n\t\n\tfunction define(unit) {\n\t    unit = unit.match(regexp);\n\t    var prefix = unit[1] ? prefixes[unit[1]].name : '';\n\t    var name = units[unit[2]].name;\n\t    return prefix + name;\n\t}\n\t\n\t// ---------------------------------------------------------------------------------------------\n\t\n\texports['default'] = { to: to, define: define };\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** fermat.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 11ba55158a9ce8f1c9a9\n **/","// =============================================================================\n// Fermat.js\n// (c) 2015 Mathigon\n// =============================================================================\n\n\n\nimport Arithmetic from 'arithmetic';\nimport Bignum from 'bignum';\nimport Combinatorics from 'combinatorics';\nimport Complex from 'complex';\nimport Expression from 'expression';\nimport Geometry from 'geometry';\nimport Matrix from 'matrix';\nimport NumberTheory from 'number-theory';\nimport Numeric from 'numeric';\nimport Probability from 'probability';\nimport Statistics from 'statistics';\nimport Units from 'units';\nimport Vector from 'vector';\n\nglobal.Fermat = {\n    Arithmetic, Bignum, Combinatorics, Complex, Expression, Geometry, Matrix,\n    NumberTheory, Numeric, Probability, Statistics, Units, Vector\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// =================================================================================================\n// CORE LIBRARY\n// Mathigon | Classify.js\n// (c) 2015 Mathigon\n// =================================================================================================\n\n\n\nvar _arrayPush = Array.prototype.push;\nvar _arraySlice = Array.prototype.slice;\nvar _arrayShift = Array.prototype.shift;\nvar _arrayJoin = Array.prototype.join;\n\n\n// -------------------------------------------------------------------------------------------------\n// Utility Functions\n\n// Generates a random ID string\nfunction uid() {\n    return Math.random().toString(36).substr(2,10);\n}\n\nfunction run(obj, args, _this) {\n    if (obj instanceof Function) {\n        return obj.apply(_this || null, args);\n    }\n    return obj;\n}\n\n// Checks if x is strictly equal to any one of the following arguments\nfunction isOneOf(x, ...values) {\n    for (let v of values) {\n        if (x === v) return true;\n    }\n    return false;\n}\n\n// Swaps keys and values for an object\nfunction invert(obj) {\n    // SANE modified object\n    var result = {};\n    var keys = obj.keys();\n    for (var i = 0, l = keys.length; i < l; ++i) {\n        result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n}\n\n// Merges multiple objects into a single one\nfunction extend(first, ...others) {\n    // SAME modifies object\n    for (var i=0; i<others.length; ++i) {\n        let obj = others[i];\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) first[key] = src[key];\n        }\n    }\n    return first;\n}\n\nfunction clamp(x, min = 0, max = 1) {\n    return Math.max(Math.min(x, max), min);\n}\n\nfunction camelCase(str) {\n    return str.split(/-/g).map(function (str, index) {\n        return index === 0 ? str : str[0].toUpperCase() + str.substring(1);\n    }).join('');\n}\n\n\n// -------------------------------------------------------------------------------------------------\n// Function Wrappers\n\n// Wrapper for functions to cache their result based on arguments\nfunction cache(fn) {\n    let cache = new Map();\n    return function(...args) {\n        let argString = args.join('--');\n        if (!cache.has(argString)) cache.set(argString, fn(...args));\n        return cache.get(argString);\n    };\n}\n\n// Wrapper that prevents a function `fn` from being triggered more than every `t` ms.\nfunction throttle(fn, t) {\n    let delay = false;\n    let repeat = false;\n    return function(...args) {\n        if (delay) {\n            repeat = true;\n        } else {\n            fn.apply(null, args);\n            delay = true;\n            setTimeout(function() {\n                if (repeat) fn(...args);\n                delay = false;\n                repeat = false;\n            }, t);\n        }\n    };\n}\n\n\n// -------------------------------------------------------------------------------------------------\n// Templates\n\nconst templateFormats = {\n    number: function(x) { return x; }\n    // TODO more formatting options\n}\n\nfunction template(template, variables = {}) {\n    // TODO check if this works\n    return template.replace(/\\{\\{\\s*([a-zA-Z]+)\\s*(\\|\\s*([a-zA-Z]+)\\s*)?\\}\\}/g,\n        function(x, val, y, format) {\n            let string = variables[val] || '';\n            if (format && templateFormats[format]) string = templateFormats[format](string);\n            return string;\n        });\n}\n\n\n// -------------------------------------------------------------------------------------------------\n// Copying\n\nfunction shallowCopy(obj) {\n    // Handle (simple) strings, numbers, booleans, null and undefined\n    var type = typeof obj;\n    if (obj == null || isOneOf(type, 'number', 'string', 'boolean')) return obj;\n\n    // Hande other type objects\n    if (obj instanceof Number)  return new Number(obj.valueOf());\n    if (obj instanceof String)  return new String(obj.valueOf());\n    if (obj instanceof Boolean) return new Boolean(obj.valueOf());\n    if (obj instanceof Date)    return new Date(obj.valueOf());\n    if (obj instanceof RegExp)  return new RegExp(obj);\n\n    // Handle Arrays and Objects\n    return M.each(obj, function(val) { return val; });\n}\n\nlet deepCopyStore = [];\n\nfunction deepCopyStoreLookup(obj) {\n    for (let item of deepCopyStore)\n        if (item[0] === obj) return item[1];\n    return null;\n}\n\nfunction deepCopyHelper(obj) {\n\n    // Handle (simple) strings, numbers, booleans, null and undefined\n    var type = typeof obj;\n    if (obj == null || M.isOneOf(type, 'number', 'string', 'boolean')) return obj;\n\n    // Hande other type objects\n    if (obj instanceof Number)  return new Number(obj.valueOf());\n    if (obj instanceof String)  return new String(obj.valueOf());\n    if (obj instanceof Boolean) return new Boolean(obj.valueOf());\n    if (obj instanceof Date)    return new Date(obj.valueOf());\n    if (obj instanceof RegExp)  return new RegExp(obj);\n\n    // Avoids Recursive Loops\n    var x = deepCopyStoreLookup(obj);\n    if (x) return x;\n\n    var copy = obj;\n\n    // Handle Arrays\n    if (M.isArray(obj)) {\n        copy = [];\n        deepCopyStore.push([obj, copy]);\n        for (var i = 0, l = obj.length; i < l; ++i) copy[i] = deepCopyHelper(obj[i]);\n\n    // Handle Objects\n    } else if (obj instanceof Object) {\n        copy = {};\n        deepCopyStore.push([obj, copy]);\n        for (var attr in obj) if (M.has(obj, attr)) copy[attr] = deepCopyHelper(obj[attr]);\n    }\n\n    return copy;\n}\n\nfunction deepCopy(obj) {\n    deepCopyStore = [];\n    let copy = deepCopyHelper(obj);\n    deepCopyStore = [];\n    return copy;\n}\n\n\n// ---------------------------------------------------------------------------------------------\n// Equality Checking\n\nfunction shallowEquals(obj1, obj2) {\n    // TODO\n}\n\nfunction deepEquals(obj1, obj2) {\n    // TODO\n}\n\n\n// ---------------------------------------------------------------------------------------------\n// Object Watching\n// https://gist.github.com/eligrey/384583\n\nfunction watch(obj, prop, handler) {\n    var value = obj[prop];\n\n    var getter = function () { return value; };\n    var setter = function (newVal) {\n        var oldVal = value;\n        value = newVal;\n        return newVal = handler.call(this, newVal, oldVal);  // jshint ignore:line\n    };\n\n    if (delete obj[prop]) { // can't watch constants\n        Object.defineProperty(obj, prop, {\n            get: getter,\n            set: setter,\n            enumerable: true,\n            configurable: true\n        });\n    }\n}\n\nfunction unwatch(obj, prop) {\n    var val = obj[prop];\n    delete obj[prop]; // remove accessor\n    obj[prop] = val;\n}\n\n\n// ---------------------------------------------------------------------------------------------\n// Types\n\nvar typeCache = {};\nvar typeRegexp = /\\s([a-zA-Z]+)/;\n\nfunction typeOf(obj) {\n    // Matches null and undefined\n    if (obj == null) return '' + obj;\n\n    // Matches NaN (different to number)\n    if (M.isNaN(obj)) return 'nan';\n\n    // Matches all other types\n    var type = toString.call(obj);\n    return typeCache[type] || (typeCache[type] = type.match(typeRegexp)[1].toLowerCase());\n}\n\nfunction isType(x, type) {\n    return M.typeOf(x) === type;\n}\n\nfunction isString(x) {\n    return (x instanceof String) || (typeof x === 'string');\n}\n\nfunction isNumber(x) {\n    return (x instanceof Number) || (typeof x === 'number');\n}\n\nfunction isInteger(x) {\n    return x % 1 === 0;\n}\n\nfunction isDate(x) {\n    return Object.prototype.toString.call(x) === '[object Date]';\n}\n\nfunction isBoolean(x) {\n    return (x instanceof Boolean) || (typeof x === 'boolean');\n}\n\nfunction isObject(x) {\n    return x === Object(x);\n}\n\n\n// ---------------------------------------------------------------------------------------------\n// Export\n\nexport default {\n    uid, run, isOneOf, invert, extend, clamp,\n    cache, throttle,\n    template, \n    shallowCopy, deepCopy,\n    shallowEquals, deepEquals,\n    watch, unwatch,\n    typeOf, isType, isString, isNumber, isInteger, isDate, isBoolean, isObject\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ../core.js/src/utilities.js\n **/","// =============================================================================\n// Fermat.js | Vector\n// (c) 2015 Mathigon\n// =============================================================================\n\n\n\nimport { map, isInteger } from 'utilities';\n\n\nexport default class Vector extends Array {\n\n    // -------------------------------------------------------------------------\n    // Contructors\n\n    constructor(...args) {\n        // TODO: this is not allowed before super()\n        // if (!(this instanceof Vector)) return new Vector(arguments);\n\n        if (args.length === 1) {\n            if (Array.isArray(args[0])) {\n                args = args[0];\n            } else {\n                args = Array(args[0]).fill(0);\n            }\n        }\n\n        super(...args);\n    }\n\n\n    // -------------------------------------------------------------------------\n    // Getters and Methods\n\n    get total() {\n        let total = 0;\n        for (let x of this) total += (+x || 0);\n        return total;\n    }\n\n    get average() {\n        return this.total() / this.length;\n    }\n\n    get norm() {\n        let squares = 0;\n        for (let x of this) squares += x * x;\n        return Math.sqrt(squares);\n    }\n\n    get first() { return this[0]; }\n    get last() { return this[this.length - 1]; }\n    get min() { return Math.min(...this); }\n    get max() { return Math.max(...this); }\n    get range() { return [this.min, this.max]; }\n\n    scale(q = 1) {\n        var scaled = this.map(x => q * x);\n        return new Vector(scaled);\n    }\n\n    normalise() {\n        return this.scale(1 / this.norm);\n    }\n\n    toString() {\n        return '(' + this.join(', ') + ')';\n    }\n\n\n    // -------------------------------------------------------------------------\n    // Static Functions\n\n    static sum(v1, v2) {\n        let a = map((a,b) => a + b, v1, v2);\n        return new Vector(a);\n    }\n\n    static difference(v1, v2) {\n        return Vector.add(v1, v2.scale(-1));\n    }\n\n    static dot(v1, v2) {\n        let n = Math.min(v1.length, v2.length);\n        let d = 0;\n        for (let i = 0; i < n; ++i) d += (v1[i] || 0) * (v2[i] || 0);\n        return d;\n    }\n\n    static cross2D(x, y) {\n        return x[0] * y[1] - x[1] * y[0];\n    }\n\n    static cross(v1, v2) {\n        return new Vector([v1[1] * v2[2] - v1[2] * v2[1],\n                           v1[2] * v2[0] - v1[0] * v2[2],\n                           v1[0] * v2[1] - v1[1] * v2[0]]);\n    }\n\n    static product(v1, v2) {\n        let a = map((a,b) => a * b, v1, v2);\n        return new Vector(a);\n    }\n\n    static equals(v1, v2) {\n        let n = v1.length;\n        if (n !== v2.length) return false;\n        for (let i = 0; i < n; ++i) if (v1[i] !== v2[i]) return false;\n        return true;\n    }\n\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vector.js\n **/","// ============================================================================\n// Fermat.js | Combinatorics\n// (c) 2015 Mathigon / Philipp Legner\n// ============================================================================\n\n\n\nimport cache from 'utilities.js';\n\n\nconst factorial = cache(function(x) {\n    if (x < 0) return NaN;\n    if (x === 0) return 1;\n    if (x <= 1) return x;\n    return x * factorial(x - 1);\n});\n\n\nconst binomial = cache(function(n, k) {  // n choose k\n    if (k === 0) {\n        return 1;\n    } else if (2 * k > n) {\n        return binomial(n, n - k);\n    } else {\n        let coeff = 1;\n        for (let i = k; i > 0; --i) {\n            coeff *= (n - i + 1);\n            coeff /= i;\n        }\n        return coeff;\n    }\n});\n\n// permutations(arr)[0] == arr\n// http://stackoverflow.com/questions/9960908/permutations-in-javascript\nfunction permutations(arr) {\n    let permArr = [];\n    let usedChars = [];\n    function permute(input) {\n        for (let i = 0; i < input.length; i++) {\n            let term = input.splice(i, 1)[0];\n            usedChars.push(term);\n            if (input.length === 0) {\n                permArr.push(usedChars.slice());\n            }\n            permute(input);\n            input.splice(i, 0, term);\n            usedChars.pop();\n        }\n        return permArr;\n    }\n    return permute(arr);\n}\n\nfunction _getSubsets(arr) {\n    if (arr.length === 1) return [[], arr];\n    let last = arr.pop();\n    let subsets = getSubsets(arr);\n    let result = [];\n    for (let s of subsets) {\n        let a2 = s.slice(0);\n        a2.push(last);\n        result.push(s, a2);\n    }\n    return result;\n}\n\nfunction subsets(arr, length = 0) {\n    let myArr = arr.slice(0);\n    let results = _getSubsets(myArr);\n    if (length) results = results.filter(x => x.length === length);\n    // FUTURE Sorting of Subsets Results\n    return results;\n}\n\n// Returns a string of n coin flips like 'HTTHTHTTHTT'\nfunction coinFlips(n = 10) {\n    let str = '';\n    for (let i = 0; i < n; ++i) {\n        str += (Math.random() >= 0.5) ? 'H' : 'T';\n    }\n    return str;\n}\n\n\nexport default { factorial, binomial, permutations, subsets, coinFlips };\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/combinatorics.js\n **/","// =================================================================================================\n// Core.js | Array Functions\n// (c) 2015 Mathigon / Philipp Legner\n// =================================================================================================\n\n\n\nfunction getLength(array) {\n    return array.length;\n}\n\n\n// ---------------------------------------------------------------------------------------------\n// Array Generators\n\nfunction tabulateWith(fn, vals, args) {\n    if (!args.length) return M.run(fn, vals);\n\n    var newArgs = _arraySlice.call(args, 0);\n    var x = newArgs.shift();\n\n    var result = [];\n    for (var i=0; i<x; ++i) result.push(tabulateWith(fn, vals.concat([i]), newArgs));\n    return result;\n}\n\nM.tabulate = function(fn, x, y, z) {\n    var indices = M.toArray(arguments);\n    _arrayShift.call(indices);\n    return tabulateWith(fn, [], indices);\n};\n\nM.list = function(a, b, step) {\n    if (!step) step = 1;\n    var arr = [], i;\n\n    if (b == null && a >= 0) {\n        for (i=0; i<a; i += step) arr.push(i);\n    } else if (b == null) {\n        for (i=0; i>a; i -= step) arr.push(i);\n    } else if (a <= b) {\n        for (i=a; i<=b; i += step) arr.push(i);\n    } else {\n        for (i=a; i>=b; i -= step) arr.push(i);\n    }\n\n    return arr;\n};\n\n\n// ---------------------------------------------------------------------------------------------\n// Array Functions\n\n// For types that cannot be converted to an array, toArray() returns a 1 item array containing\n// the passed-in object.\n\nvar unsliceable = ['undefined', 'null', 'number', 'boolean', 'string', 'function'];\n\nM.toArray = function(obj) {\n    return unsliceable.has(M.typeof(obj)) ? [obj] : Array.prototype.slice.call(obj, 0);\n};\n\nM.map = function(fn) {\n    var arrays = M.toArray(arguments);\n    _arrayShift.call(arrays);\n\n    var maxLength = Math.max.apply(Math, M.each(arrays, getLength));\n\n    return M.tabulate(function(i) {\n        return fn.apply(null, M.each(arrays, function(x) { return x[i]; }));\n    }, maxLength);\n};\n\nM.concat = function(a, b) {\n    if (arguments.length > 2) {\n        args = M.toArray(arguments);\n        var last = args.pop();\n        return M.concat(M.concat(args), last);\n    }\n\n    var array = Array.prototype.slice.call(a, 0);\n    for (var i=0, l = b.length; i<l; ++i) array.push(b[i]);\n\n    return array;\n};\n\nM.cumulative = function(array) {\n    var total = 0;\n    return M.each(array, function(a) {\n        total += a;\n        return total;\n    });\n};\n\n\n// ---------------------------------------------------------------------------------------------\n// Set Functions\n\nM.set = {\n\n    intersect: function(a1, a2) {\n\n    },\n\n    difference: function(a1, a2) {\n        var length1 = a1.length;\n        var length2 = a2.length;\n        var result = [];\n\n        outer:\n        for (var i = 0; i < length1; ++i) {\n            var value = a1[i];\n            for (var j = 0; j < length2; ++j) {\n                if (value === a2[j]) continue outer;\n            }\n            result.push(value);\n\n\n        }\n\n        return result;\n    } \n\n}\n\n\n// ---------------------------------------------------------------------------------------------\n// Array Prototype\n\nM.extendPrototype(Array, {\n\n    // Runs the function fn(element, index) for every element in an array\n    each: function(fn, reverse) {\n        var i, n = this.length;\n\n        if (reverse) {\n            for (i = n - 1; i >= 0; --i) fn(this[i], i);\n        } else {\n            for (i = 0; i < n; ++i) fn(this[i], i);\n        }\n\n        return this;\n    },\n\n    saveEach: function(fn, reverse) {\n        var i, n = this.length;\n\n        if (reverse) {\n            for (i = n - 1; i >= 0; --i)\n                if (M.has(this, i)) fn(this[i], i);\n        } else {\n            this.forEach(fn);\n        }\n\n        return this;\n    },\n\n    has: function(x) {\n        return this.indexOf(x) !== -1;\n    },\n\n    every: function(fn) {\n        var n = this.length;\n\n        for (var i = 0; i < n; ++i)\n            if (!fn(this[i], i)) return false;\n\n        return this;\n    },\n\n    some: function(fn) {\n        var n = this.length;\n\n        for (var i = 0; i < n; ++i)\n            if (fn(this[i], i)) return true;\n\n        return false;\n    },\n\n    extract: function(id) {\n        return this.map(function(a) { return a[id]; });\n    },\n\n    total: function() {\n        var total = 0, n = this.length;\n        for (var i=0; i < n; ++i) total += (+this[i] || 0);\n        return total;\n    },\n\n    first: function() {\n        return this[0];\n    },\n\n    last: function() {\n        return this[this.length - 1];\n    },\n\n    // Finds the minimum of all values in an array a\n    min: function() {\n        return Math.min.apply(Math, this);\n    },\n\n    // Finds the maximum of all values in an array a\n    max: function() {\n        return Math.max.apply(Math, this);\n    },\n\n    // minIndex\n    // maxIndex\n\n    // Finds the maximum of all values in an array a\n    maxAbs: function() {\n        var max = this.max();\n        var min = this.min();\n        return Math.abs(max) > Math.abs(min) ? max : min;\n    },\n\n    // Finds the smallest and the largest value in the arra a\n    range: function() {\n        return [this.min(), this.max()];\n    },\n\n    // Removes any null or undefined values in array a\n    clean: function() {\n        var b = [], n = this.length;\n        for (var i = 0; i < n; ++i)\n            if (this[i] != null) b.push(this[i]);\n        return b;\n    },\n\n    // Removes duplicates in an array a\n    unique: function() {\n        var b = [], n = this.length;\n        for (var i = 0; i < n; ++i)\n            if (b.indexOf(this[i]) === -1) b.push(this[i]);\n        return b;\n    },\n\n    // Removes all occurrences of x from the array a\n    without: function(x) {\n        var b = [], n = this.length;\n        for (var i = 0; i < n; ++i)\n            if (this[i] !== x) b.push(this[i]);\n        return b;\n    },\n\n    // Breaks an array a into chunks of size at most n\n    chunk: function(n) {\n        var chunks = [];\n        var lastChunk = [];\n        var count = 0, l = this.length;\n\n        for (var i = 0; i < l; ++i) {\n            lastChunk.push(this[i]);\n            ++count;\n            if (count >= n) {\n                chunks.push(lastChunk);\n                lastChunk = [];\n                count = 0;\n            }\n        }\n\n        if (lastChunk.length) _arrayPush.call(chunks, lastChunk);\n        return chunks;\n    },\n\n    // Rotates the elements of an array by offset\n    rotate: function(offset) {\n        var n = this.length;\n        offset = ((offset % n) + n) % n; // offset could initially be negative...\n        var start = this.slice(0, offset);\n        var end = this.slice(offset);\n        _arrayPush.apply(end, start);\n        return end;\n    },\n\n    // Flatten a multi dimensional array, put all elements in a one dimensional array\n    flatten: function() {\n        var flat = _arraySlice.call(this, 0);\n\n        while (M.isArray(flat[0])) {\n            var next = [];\n            for (var i = 0, n = flat.length; i < n; ++i) {\n                next = next.concat.apply(next, flat[i]);\n            }\n            flat = next;\n        }\n\n        return flat;\n    },\n\n    sortBy: function(p, reverse) {\n        return this.sort(function(a, b) { return reverse ? b[p] - a[p] : a[p] - b[p]; });\n    }\n\n});\n\nexport default {}\n\n\n/** WEBPACK FOOTER **\n ** ../core.js/src/arrays.js\n **/","// ============================================================================\n// Fermat.js | Number Theory\n// (c) 2015 Mathigon\n// ============================================================================\n\n\n\n// -----------------------------------------------------------------------------\n// Simple Functions\n\nfunction nearlyEquals(x, y, tolerance = 0.0000001) {\n    return Math.abs(x - y) < tolerance;\n}\n\nfunction sign(x) {\n    return nearlyEquals(x, 0) ? 0 : (x > 0 ? 1 : -1);\n}\n\nfunction bound(x, min = -Infinity, max = Infinity) {\n    return Math.min(max, Math.max(min, x));\n}\n\nfunction between(x, a, b) {\n    return x >= a && x <= b;\n}\n\n\n// -----------------------------------------------------------------------------\n// String Conversion\n\nlet numRegex = /(\\d+)(\\d{3})/;\n\n// Adds ','s as thousands seperators to a number\nfunction numberFormat(x) {\n    x = ('' + x).split('.');\n    let n = x[0];\n    while (numRegex.test(n)) {\n        n = n.replace(numRegex, '$1,$2');\n    }\n    return n + (x.length > 1 ? '.' + x[1] : '');\n}\n\nfunction toOrdinal(x) {\n    if (Math.abs(x) % 100 >= 11 && Math.abs(x) % 100 <= 13)\n        return x + 'th';\n\n    switch(x % 10) {\n        case 1: return x + 'st';\n        case 2: return x + 'nd';\n        case 3: return x + 'rd';\n        default: return x + 'th';\n    }\n}\n\n\n// -----------------------------------------------------------------------------\n// Rounding, Decimals and Decimals\n\n// digits(376) = [6, 7, 3]\nfunction digits(n) {\n    let str = '' + Math.abs(x);\n    return str.split('').reverse().map(x => +x);\n}\n\n// decimalDigits(3.456) = [4, 5, 6]\nfunction fractionalDigits(n) {\n    let str = '' + Math.abs(n - Math.floor(n));\n    return str.split('').map(x => +x);\n}\n\n// Returns the number of digits after the decimal place\nfunction decimalPlaces(n) {\n    let str = '' + Math.abs(n);\n    str = str.split('.');\n    return str.length === 1 ? 0 : str[1].length;\n}\n\nfunction round(n, precision = 0) {\n    let factor = Math.pow(10, precision);\n    return Math.round(n * factor) / factor;\n}\n\n// Round a number n to the nearest multiple of increment\nfunction roundTo(n, increment = 1) {\n    return Math.round(n / increment) * increment;\n}\n\nfunction roundTowardsZero(x) {\n    // Add 0.00001 because of floating points uncertainty\n    // TODO use x|0;\n    return x < 0 ? Math.ceil(x - 0.00001) : Math.floor(x + 0.00001);\n}\n\n// Returns an [numerator, denominator] array\n// See http://en.wikipedia.org/wiki/Continued_fraction\nfunction toFraction(decimal, precision = 0.0001) {\n    let n = [1, 0], d = [0, 1];\n    let a = Math.floor(decimal);\n    let rem = decimal - a;\n\n    while (d[0] <= 1/precision) {\n        if (nearlyEquals(n[0] / d[0], precision)) return [n[0], d[0]];\n        n = [a * n[0] + n[1], n[0]];\n        d = [a * d[0] + d[1], d[0]];\n        a = Math.floor(1 / rem);\n        rem = 1/rem - a;\n    }\n\n    // No nice rational representation so return an irrational \"fraction\"\n    return [decimal, 1];\n}\n\n\n// -----------------------------------------------------------------------------\n// Operations\n\n// The JS implementation of the % operator returns the symmetric modulo.\n// Both are identical if a >= 0 and m >= 0 but the results differ if a or m < 0.\nfunction mod(a, m) {\n    return ((a % m) + a) % m;\n}\n\nfunction log(x, b = null) {\n    return (b == null) ? Math.log(x) : Math.log(x) / Math.log(b);\n}\n\n// -----------------------------------------------------------------------------\n\nexport default {\n    nearlyEquals, sign, bound, between, numberFormat, toOrdinal,\n    digits, fractionalDigits, decimalPlaces, round, roundTo, roundTowardsZero,\n    toFraction, mod, log\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/arithmetic.js\n **/","// =============================================================================\n// Fermat.js | Complex Numbers\n// (c) 2015 Mathigon\n// =============================================================================\n\n\n\nexport default class Complex {\n\n    // -------------------------------------------------------------------------\n    // Static Methods\n\n    static sum(c1, c2) {\n        if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n        if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n\n        return new Complex(c1.re + c2.re, c1.im + c2.im);\n    }\n\n    static difference(c1, c2) {\n        if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n        if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n\n        return new Complex(c1.re - c2.re, c1.im - c2.im);\n    }\n\n    static product(c1, c2) {\n        if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n        if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n        var re = c1.re * c2.re - c1.im * c2.im;\n        var im = c1.im * c2.re + c1.re * c2.im;\n        return new M.complex(re, im);\n    }\n\n    static quotient(c1, c2) {\n        if (!(c1 instanceof Complex)) c1 = new Complex(c1, 0);\n        if (!(c2 instanceof Complex)) c2 = new Complex(c2, 0);\n\n        if (Math.abs(c2.re) < Number.EPSILON || Math.abs(c2.im) < Number.EPSILON)\n            return new Complex(Infinity, Infinity);\n\n        var denominator = c2.re * c2.re + c2.im * c2.im;\n        var re = (c1.re * c2.re + c1.im * c2.im) / denominator;\n        var im = (c1.im * c2.re - c1.re * c2.im) / denominator;\n\n        return new Complex(re, im);\n    }\n\n\n    // -------------------------------------------------------------------------\n    // Constructor\n\n    constructor(re = 0, im = 0) {\n        this.re = re || 0;\n        this.im = im || 0;\n    }\n\n\n    // -------------------------------------------------------------------------\n    // Getters and Methods\n\n    get magnitude() {\n        return Math.sqrt(this.re * this.re + this.im * this.im);\n    }\n\n    get phase() {\n        return Math.atan2(this.im, this.re);\n    }\n\n    get conjugate() {\n        return new Complex(this.re, -this.im);\n    }\n\n    toString() {\n        if (!this.re) return this.im + 'i';\n        if (!this.im) return this.re;\n        return this.re + ' + ' + this.im + 'i';\n    }\n\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/complex.js\n **/","// =============================================================================\n// Fermat.js | Expressions\n// *** EXPERIMENTAL ***\n// (c) 2015 Mathigon\n// =============================================================================\n\n\n// TODO fix parser errors + test\n// TODO + and * with multiple arguments\n// TODO Simplify expressions\n// TODO More error messages: 1(1), \"str\"(10), %(x)\n\n\n\n\n// -----------------------------------------------------------------------------\n// Expression Functions\n\nconst functions = {\n    '+': function(a, b) { return a + b; },\n    '-': function(a, b) { return (b === undefined) ? -a : a - b; },\n    '*': function(a, b) { return a * b; },\n    '/': function(a, b) { return a / b; },\n    '!': function(n) { return M.factorial(n); },  // FIXME\n    '^': function(a, b) { return Math.pow(a, b); },\n    '[]': function(...args) { return args; },\n    '\"': function(str) { return '' + str; },\n    'mod': function(a, b) { return M.mod(a, b); }\n};\n\nconst strings = {\n    '+': function(...args) { return args.join(' + '); },\n    '-': function(a, b) { return (b === undefined) ? '-' + a : a + ' - ' + b; },\n    '*': function(...args) { return args.join(' * '); },\n    '/': function(a, b) { return a + ' / ' + b; },\n    '!': function(n) { return n + '!'; },\n    '^': function(a, b) { return a + ' ^ ' + b; },\n    '[]': function(...args) { return '[' + args.join(', ') + ']'; },\n    '\"': function(str) { return '\"' + str + '\"'; },\n    'mod': function(a, b) { return a + ' mod ' + b; }\n};\n\n\nclass ExpressionFn {\n    constructor(fn, args) {\n        this.fn = fn;\n        this.args = args;\n    }\n\n    simplify() {\n        // TODO !!!\n        return this;\n    }\n\n    toString() {\n        var newArgs = [];\n        for (var i=0; i<this.args.length; ++i) newArgs.push(this.args[i].toString());\n\n        var fn = strings[this.fn];\n        return fn ? fn(...newArgs) : this.fn + '(' + this.args.join(', ') + ')';\n    }\n\n    evaluate(vars = {}) {\n        var newArgs = [];\n        for (var i=0; i<this.args.length; ++i) {\n            var newArg = this.args[i].evaluate();\n            if (newArg instanceof Expression) return this;\n            newArgs.push(newArg);\n        }\n\n        var fn = vars[this.fn] || functions[this.fn] || Math[this.fn] || M[this.fn];\n        return (fn instanceof Function) ? fn(...newArgs) : this;\n    }\n}\n\n\n// ExpressionVal can be numbers of strings (-> variables)\nclass ExpressionVal {\n    constructor(val) { this.val = val; }\n    simplify() { return this; }\n    toString() { return '' + this.val; }\n\n    evaluate(vars = {}) {\n        if (isNumber(this.val)) return this.val;\n        if (this.val in vars) return vars[this.val];\n        return this;\n    }\n}\n\n\n// -----------------------------------------------------------------------------\n// Expression Parser\n\nconst brackets = { '(': ')', '[': ']', '{': '}', '|': '|' };\n\nfunction bracketsMatch(a, b) {\n    return brackets[a] === b || brackets[b] === a;\n}\n\nclass ExpressionParser {\n\n    constructor() {\n        this.current = '';\n        this.result = [];\n\n        this.currentParser = null;\n        this.currentBracket = null;\n        this.currentFn = null;\n    }\n\n    // Pushes a new letter to the expression parser\n    send(x) {\n\n        // Handle Strings\n        if (this.currentBracket === '\"' && x !== '\"') {\n            this.current += x;\n\n        // Closing Strings\n        } else if (!this.currentBracket && x === '\"') {\n            this.pushCurrent();\n            this.currentBracket = '\"';\n\n        // Opening Strings\n        } else if (this.currentBracket === '\"' && x === '\"') {\n            this.result.push(new Expression('\"', [this.current]));\n\n        // Handle Invalid Characters\n        } else if (('@&\\\\?<>=~`').contains(x)) {\n            throw new Error('Unexpected \"' + x + '\".');\n\n        // Handle Content for CHild parsers\n        } else if (this.currentParser) {\n\n            if ((')]}|').contains(x) && this.currentParser.isReady()) {\n\n                if (!bracketsMatch(x,this.currentBracket))\n                    throw new Error('Unexpected \"' + x + '\".');\n\n                var completed = this.currentParser.complete();\n                if (this.currentFn) {\n                    this.result.push(new ExpressionFn(this.currentFn, completed));\n                } else if (x === ']') {\n                    this.result.push(new ExpressionFn('[]', completed));\n                } else if (x === '|') {\n                    this.result.push(new ExpressionFn('abs', completed));\n                } else {\n                    if (completed.length !== 1) throw new Error('Unexpected \",\".');\n                    this.result.push(new ExpressionVal(completed[0]));\n                }\n                this.current = '';\n                this.currentBracket = this.currentParser = this.currentFn = null;\n\n            } else {\n                this.currentParser.send(x);\n            }\n\n        // Handle Open Brackets\n        } else if (('([{|').contains(x)) {\n            if (x === '(' && isNaN(+this.current) && !('+-*/!^%,').contains(this.current)) {\n                this.currentFn = this.current;\n                this.current = '';\n            } else {\n                this.pushCurrent();\n            }\n            this.currentParser = new ExpressionParser();\n            this.currentBracket = x;\n\n        } else if (('+-*/!^%,').contains(x)) {\n            this.pushCurrent();\n            if (x !== ',') this.result.push(x);\n\n        } else if (x.match(/\\s\\n\\t/)) {\n            this.pushCurrent();\n\n        } else {\n            this.current += x.trim();\n        }\n    }\n\n    isReady() {\n        return this.currentParser == null;\n    }\n\n    // Adds a new letter, number or expression to the results object\n    pushCurrent() {\n        if (!this.current) return;\n        var num = +this.current;\n        this.result.push(new ExpressionVal(num === num ? num : this.current));\n        this.current = '';\n    }\n\n    // Completes the expression and returns a new expression\n    complete(x) {\n\n        this.pushCurrent();\n        var i;\n\n        // Handle Factorials and Percentages\n        for (i=0; i<this.result.length; ++i) {\n            if (this.result[i] === '!') {\n                this.result.splice(i-1, 2, new ExpressionFn('!', [this.result[i-1]]));\n                i -= 1;\n            } else if (this.result[i] === '%') {\n                this.result.splice(i-1, 2, new ExpressionFn('/', [this.result[i-1], 100]));\n                i -= 1;\n            }\n        }\n\n        // Handle Powers\n        for (i=0; i<this.result.length; ++i) {\n            if (this.result[i] === '^') {\n                this.result.splice(i-1, 3,\n                    new ExpressionFn('^', [this.result[i-1], this.result[i+1]]));\n                i -= 2;\n            }\n        }\n\n        // Handle Leading -\n        if (this.result[0] === '-')\n            this.result.splice(0, 2, new ExpressionFn('-', [this.result[1]]));\n\n        // Handle Multiplication and Division\n        for (i=0; i<this.result.length; ++i) {\n            if (this.result[i] === '/') {\n                this.result.splice(i-1, 3,\n                    new ExpressionFn('/', [this.result[i-1], this.result[i+1]]));\n                i -= 2;\n            } else if (this.result[i] === '*') {\n                this.result.splice(i-1, 3,\n                    new ExpressionFn('*', [this.result[i-1], this.result[i+1]]));\n                i -= 2;\n            }\n        }\n\n        // Handle Addition and Subtraction\n        for (i=0; i<this.result.length; ++i) {\n            if (this.result[i] === '-') {\n                this.result.splice(i-1, 3,\n                    new ExpressionFn('-', [this.result[i-1], this.result[i+1]]));\n                i -= 2;\n            } else if (this.result[i] === '+') {\n                this.result.splice(i-1, 3,\n                    new ExpressionFn('+', [this.result[i-1], this.result[i+1]]));\n                i -= 2;\n            }\n        }\n\n        return this.result;\n    }\n}\n\n\n// -----------------------------------------------------------------------------\n// Expressions Class\n\nexport default class Expression {\n\n    constructor(str) {\n        let parser = new ExpressionParser();\n        for (let x of str) parser.send(x);\n        this.expr = parser.complete()[0].simplify();\n    }\n\n    simplify() {\n        return this;\n    }\n\n    toString() {\n        return this.val.toString();\n    }\n\n    evaluate(vars) {\n        if (vars == null) vars = {};\n        // TODO return numbers if possible?\n        return (vars[this.val] === undefined) ? this.val : vars[this.val];\n    }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expression.js\n **/","// =============================================================================\n// Fermat.js | Geometry\n// *** EXPERIMENTAL ***\n// (c) 2015 Mathigon\n// =============================================================================\n\n\n\nimport { square, cube, between, almost } from 'utilities';\nimport Vector from 'vector';\nimport { list, permutations } from 'combinatorics';\n\n/*function square(x) { return x * x; }\nfunction cube(x) { return x * x * x; }\nfunction between(x, a, b) { return x >= a && x <= b; }\nfunction almost(a, b) { return Math.abs(a, b) < 0.000001; }*/\nfunction total(a) { var t = 0; for (x of a) t += a; return a; }\n\n\n// -----------------------------------------------------------------------------\n// Points\n\nconst origin = new Point(0,0);\nconst identity = [[1, 0], [0, 1]];\n\nclass Point {\n\n    static average(...points) {\n        var x = total(points.map(p => p.x)) / points.length;\n        var y = total(points.map(p => p.y)) / points.length;\n        return new Point(x, y);\n    }\n\n    static dot(p1, p2) {\n        return p1.x * p2.x + p1.y * p2.y;\n    }\n\n    static sum(p1, p2) {\n        return new Point(p1.x + p2.x, p1.y + p2.y);\n    }\n\n    static difference(p1, p2) {\n        return new Point(p1.x - p2.x, p1.y - p2.y);\n    }\n\n    static distance(p1, p2) {\n        return Math.sqrt(square(p1.x - p2.x) + square(p1.y - p2.y));\n    }\n\n    static manhatten(p1, p2) {\n        return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n    }\n\n    static distanceFromLine(p, l) {\n        return Point.distance(p, p.project(l));  // TODO wrong?\n    }\n\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y\n    }\n\n    get center() { return this; }\n\n    toString() {\n        return '(' + this.x + ', ' + this.y + ')'\n    }\n\n    project(l = xAxis) {\n        let k = Point.dot(Point.difference(this, l.p1), l.normalVector);\n        return Point.add(l.p1, k);  // TODO wrong?\n    }\n\n    transform(m = identity) {\n        let x = m[0][0] * this.x + m[0][1] * this.y;\n        let y = m[1][0] * this.x + m[1][1] * this.y;\n        return new Point(x, y);\n    }\n\n    rotate(phi = 0, p = origin) {\n        var x0 = this.x - p.x;\n        var y0 = this.y - p.y;\n\n        var cos = Math.cos(phi);\n        var sin = Math.sin(phi);\n\n        var x = x0 * cos - y0 * sin + p.x;\n        var y = x0 * sin + y0 * cos + p.y;\n        return new Point(x, y);\n    }\n\n    reflect(l = yAxis) {\n        var v = l.p2.x - l.p1.x;\n        var w = l.p2.y - l.p1.y;\n\n        var x0 = this.x - l.p1.x;\n        var y0 = this.y - l.p1.y;\n\n        var mu = (v * y0 - w * x0) / (v * v + w * w);\n\n        var x = this.x + 2 * mu * w;\n        var y = this.y - 2 * mu * v;\n        return new Point(x, y);\n    }\n\n    scale(sx = 1, sy = sx) {\n        return new Point(this.x * sx, this.y * sy);\n    }\n\n    shift(x = 0, y = 0) {\n        return new Point(this.x + x, this.y + y);\n    }\n}\n\n\n// -----------------------------------------------------------------------------\n// Lines and Beziers\n\nconst xAxis = new Line(origin, new Point(1, 0));\nconst yAxis = new Line(origin, new Point(0, 1));\n\nclass Line {\n\n    static isParallel(l1, l2) {\n        var x1 = l1.p2.x - l1.p1.x;\n        var y1 = l1.p2.y - l1.p1.y;\n        var x2 = l2.p2.x - l2.p1.x;\n        var y2 = l2.p2.y - l2.p1.y;\n\n        return (x1 === 0 && x2 === 0) || (y1 === 0 && y2 === 0) || almost(y1/x1, y2/x2);\n    }\n\n    static isPerpendicular(l1, l2) {\n        // TODO\n    }\n\n    static angleBetween(l1, l2) {\n        // TODO\n    }\n\n    // Calculates the angle bisector of the angle a, b, c.\n    static angleBisector(a, b, c) {\n        var phiA =  Math.atan2(a.y - b.y, a.x - b.x);\n        var phiC =  Math.atan2(c.y - b.y, c.x - b.x);\n        var phi = (phiA + phiC) / 2;\n\n        if (phiA > phiC) phi += Math.PI;\n\n        var x = Math.cos(phi) + b.x;\n        var y = Math.sin(phi) + b.y;\n\n        return new Line(b, new Point(x, y));\n    }\n\n    constructor(p1, p2) {\n        this.p1 = p1;\n        this.p2 = p2;\n    }\n\n    get length() {\n        return Point.distance(this.p1, this.p2);\n    }\n\n    get center() {\n        return Point.average(this.p1, this.p2);\n    }\n\n    get normalVector() {\n        var l = this.length;\n        var x = (this.p2.x - this.p1.x) / l;\n        var y = (this.p2.y - this.p1.y) / l;\n        return new Point(x, y);\n    }\n\n    contains(p) {\n        var grad1 = (this.p2.y - this.p1.y) / (this.p2.x - this.p1.x);\n        var grad2 = (p.y - this.p1.y) / (p - this.p1.x);\n        return almost(grad1, grad2);\n    }\n\n    at(t = 0) {\n        var x = t * this.p1.x + (1-t) * this.p2.x;\n        var y = t * this.p1.y + (1-t) * this.p2.y;\n        return new Point(x, y);\n    }\n\n    perpendicular(p = origin) {\n        var dx, dy;\n\n        // Special case: point is the first point of the line\n        if (same(p, this.p1)) {\n            dx = this.p2.y - this.p1.y;\n            dy = this.p1.x - this.p2.x;\n\n        // Special case: point is the second point of the line\n        } else if (same(p, this.p2)) {\n            dx = this.p1.y - this.p2.y;\n            dy = this.p2.x - this.p1.x;\n\n        // special case: point lies somewhere else on the line\n        } else if (this.contains(p)) {\n            dx = this.p1.y - p.y;\n            dy = p.x - this.p1.x;\n\n        // general case: point does not lie on the line\n        } else {\n            var b = p.project(l);\n            dx = b.x;\n            dy = b.y;\n        }\n\n        return new Line(p, p.shift(dx, dy));\n    }\n\n    // TODO toString, transform, rotate, reflect, scale, shift\n}\n\nclass Bezier {\n\n    constructor(p1, p2, q1 = p1, q2 = p2) {\n        this.p1 = p1;\n        this.p2 = p2;\n        this.q1 = q1;\n        this.q2 = q2;\n    }\n\n    get length() {\n        // TODO\n    }\n\n    get center() {\n        // TODO\n    }\n\n    contains(p) {\n    }\n\n    at(t = 0) {\n        var x = cube(1-t)*this.p1.x + 3*t*(1-t)*(1-t)*this.q1.x + 3*t*t*(1-t)*this.q2.x + cube(t)*this.p2.x;\n        var y = cube(1-t)*this.p1.y + 3*t*(1-t)*(1-t)*this.q1.y + 3*t*t*(1-t)*this.q2.y + cube(t)*this.p2.y;\n        return new Point(x, y);\n    }\n\n    // TODO toString, transform, rotate, reflect, scale, shift\n}\n\n\n// -------------------------------------------------------------------------\n// Ellipses and Circles\n\nclass Ellipse extends Base {\n    // TODO\n}\n\nclass Circle extends Ellipse {\n    constructor(c = origin, r = 1) {\n        super();  // TODO\n        this.c = c;\n        this.r = r;\n    }\n\n    get center() {\n        return this.c;\n    }\n\n    get circumference() {\n        return 2 * Math.PI * this.r;\n    }\n\n    get area() {\n        return Math.PI * square(this.r);\n    }\n\n    contains(p) {\n        // TODO\n    }\n\n    at(t = 0) {\n        // TODO\n    }\n\n    // TODO toString, transform, rotate, reflect, scale, shift\n}\n\n\n// -------------------------------------------------------------------------\n// Rectangles and Squares\n\nclass Rect extends Base {\n    constructor(x = 0, y = 0, w = 1, h = 1) {\n        super();  // TODO\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n    }\n\n    get center() {\n        // TODO\n    }\n\n    get circumference() {\n        return 2 * this.w + 2 * this.h;\n    }\n\n    get area() {\n        return Math.abs(this.w * this.h);\n    }\n\n    get polygon() {\n        var a = new Point(this.x, this.y);\n        var b = new Point(this.x + this.w, this.y);\n        var c = new Point(this.x + this.w, this.y + this.h);\n        var d = new Point(this.x, this.y + this.h);\n        return new Polygon(a, b, c, d);\n    }\n\n    contains(p) {\n    }\n\n    at(t = 0) {\n    }\n\n    // TODO toString, transform, rotate, reflect, scale, shift\n}\n\nclass Square extends Rect {\n    // TODO\n}\n\n\n// -------------------------------------------------------------------------\n// Polygons and Triangles\n\nclass Polygon {\n    constructor(...points) {\n        this.points = points;\n    }\n\n    get circumference() {\n        let C = 0;\n        this.points.each(function() { C += distance(p[i - 1], p[i]); });\n        C += distance(p[n-1], p[0]);\n        return C;\n    }\n\n    get area() {\n        var p = this.points;\n        var n = p.length;\n        var A = p[0].x * p[n - 1].y - p[n - 1].x * p[0].y;\n\n        for (var i = 1; i < n; ++i)\n            A += p[i - 1].x * p[i].y - p[i].x * p[i - 1].y;\n\n        return Math.abs(A/2);\n    }\n\n    get center() {\n        // TODO\n    }\n\n    get centroid() {\n        // TODO\n    }\n\n    contains(p) {\n        // TODO\n    }\n\n    at(t = 0) {\n        // TODO\n    }\n\n    // TODO toString, transform, rotate, reflect, scale, shift\n}\n\nclass Triangle extends Polygon {\n    constructor(...points) {\n        super();  // TODO\n        if (points.length !== 3) throw new Error('Triangles need exactly 3 vertices.');\n        this.points = points;\n    }\n\n    get circumcircle() {\n        // TODO\n    }\n\n    get incircle() {\n        // TODO\n    }\n}\n\n\n// -------------------------------------------------------------------------\n// Angles\n\nfunction angle(a, b, c) {\n    var phiA = Math.atan2(a.y - b.y, a.x - b.x);\n    var phiC = Math.atan2(c.y - b.y, c.x - b.x);\n    var phi = phiC - phiA;\n\n    if (phi < 0) phi += 2 * Math.PI;\n    return phi;\n}\n\n\n// -------------------------------------------------------------------------\n// Equality Checking\n\nlet isSame = {\n    point: function(p1, p2) {\n        return almost(p1.x, p2.x) && almost(p1.y, p2.y);\n    },\n\n    line: function(l1, l2, unoriented) {\n        return (same.point(l1.p1, l2.p1) && same.point(l1.p2, l2.p2)) ||\n               (unoriented && same.point(l1.p1, l2.p2) && same.point(l1.p2, l2.p1));\n    },\n\n    rect: function(r1, r2, unoriented) {\n        // TODO\n    },\n\n    circle: function(c1, c2, unoriented) {\n        // TODO\n    },\n\n    polygon: function(p1, p2, unoriented) {\n        // TODO\n    }\n};\n\nfunction same(a, b, unOriented) {\n    var type = getGeoType(a);\n    if (type !== getGeoType(b)) return false;\n    var sameFn = isSame[type];\n    if (sameFn) return sameFn(a, b, unOriented);\n}\n\n\n// -------------------------------------------------------------------------\n// Intersections and Overlaps\n\nfunction pointPointIntersect(p1, p2) {\n    return same(p1, p2) ? [new Point(p1.x, p2.x)] : [];\n}\n\nfunction pointLineIntersect(p, l) {\n    // TODO check that p lies on l\n}\n\nfunction pointRectIntersect(p, r) {\n    // TODO\n}\n\nfunction pointCircleIntersect(p, c) {\n    // TODO\n}\n\nfunction pointPolygonIntersect(p1, p2) {\n    // TODO\n}\n\nfunction lineLineIntersect(l1, l2) {\n\n    var s = same.point(l1.p1, l2.p1) + same.point(l1.p1, l2.p2) +\n            same.point(l1.p2, l2.p1) + same.point(l1.p2, l2.p2);\n\n    if (s === 2) return l1.p1;  // same lines intersect\n    if (s === 1) return;        // connected lines don't intersect\n\n    var d1 = [l1.p2.x - l1.p1.x, l1.p2.y - l1.p1.y];\n    var d2 = [l2.p2.x - l2.p1.x, l2.p2.y - l2.p1.y];\n    var d  = [l2.p1.x - l1.p1.x, l2.p1.y - l1.p1.y];\n\n    var denominator = Vector.cross2D(d2, d1);\n    if (denominator === 0) return;  // -> colinear\n\n    var n1 = M.vector.cross2D(d1, d);\n    var n2 = M.vector.cross2D(d2, d);\n\n    var x = n2 / denominator;\n    var y = n1 / denominator;\n\n    if (between(x,0,1) && between(y,0,1)) {\n        var intersectionX = l1.p1.x + x * (l1.p2.x - l1.p1.x);\n        var intersectionY = l1.p1.y + y * (l1.p2.y - l1.p1.y);\n        return new Point(intersectionX, intersectionY);\n    }\n}\n\nfunction lineCircleIntersect(l, c) {\n    // TODO\n}\n\nfunction linePolygonIntersect(l, c) {\n    // TODO\n}\n\nfunction rectRectIntersect() {\n    // TODO\n}\n\nfunction polygonPolygonIntersect() {\n    // TODO\n}\n\nfunction intersect(x, y) {\n\n    if (arguments.length > 2) {\n        var rest = _arraySlice.call(arguments, 1); // TODO fix\n        return intersect(x, intersect(...rest));\n    }\n\n    // Handle Rectangles\n    if (x instanceof Rect && y instanceof Rect) return rectRectIntersect(x, y);\n    if (x instanceof Rect) x = x.toPolygon();\n    if (y instanceof Rect) y = y.toPolygon();\n\n    switch (getGeoType(x) + '-' + getGeoType(y)) {\n        case 'line-line':       return lineIntersect(x, y);\n        case 'line-circle':     return lineCircleIntersect(x, y);\n        case 'line-polygon':    return linePolygonIntersect(x, y);\n        case 'circle-line':     return lineCircleIntersect(y, x);\n        case 'polygon-line':    return linePolygonIntersect(y, x);\n        case 'polygon-polygon': return polygonPolygonIntersect(x, y);\n    }\n\n    throw new Error('Can\\'t intersect ' + getGeoType(x) + 's and ' + getGeoType(y) + '.');\n}\n\n\n// -------------------------------------------------------------------------\n// Computational Geometry\n\nfunction convexHull() {\n    // TODO\n}\n\nfunction travellingSalesman(dist) {\n    var n = dist.length;\n    var cities = M.list(n);\n\n    var minLength = Infinity;\n    var minPath = null;\n\n    M.permutations(cities).each(function(path) {\n        var length = 0;\n        for (var i=0; i<n-1; ++i) {\n            length += dist[path[i]][path[i+1]];\n            if (length > minLength) return;\n        }\n        if (length < minLength) minLength = length;\n        minPath = path;\n    });\n\n    return { path: minPath, length: minLength };\n}\n\n\n// -------------------------------------------------------------------------\n\nexport default {\n    Point, Line, Bezier, Ellipse, Circle, Rect, Square, Polygon,\n    angle, same, intersect, convexHull, travellingSalesman\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry.js\n **/","// =============================================================================\n// Fermat.js | Matrix\n// *** EXPERIMENTAL ***\n// (c) 2015 Mathigon\n// =============================================================================\n\n\n\nimport Vector from 'vector';\n\n\nexport default class Matrix {\n\n    // -------------------------------------------------------------------------\n    // Contructors\n\n    // new Matrix([[1,2],[3,4]]) = [[1,2],[3,4]];\n    // new Matrix(2) = [[0,0],[0,0]];\n    // new Matrix(2,3) = [[0,0,0],[0,0,0]]\n    // new Matrix(2,3,1) = [[1,1,1],[1,1,1]]\n\n    constructor(a, b = null, c = null) {\n        if (!(this instanceof Matrix)) return new Matrix(arguments);\n\n        var isArray = Array.isArray(a);\n        this.rows = isArray ? a.length : a;\n        this.columns = isArray ? Math.max(...a.map(x => x.length))\n                               : (b == null) ? a : b;\n\n        for (var i = 0; i < this.rows; ++i) {\n            this[i] = [];\n            for (var j = 0; j < this.columns; ++j) {\n                var val = isArray ? a[i][j] : c;\n                this[i][j] = (val != null) ? val : null;\n            }\n        }\n    }\n\n    static identity(n = 2) {\n        let x = new Matrix(n, n, 0);\n        for (let i = 0; i < n; ++i) x[i][i] = 1;\n        return x;\n    }\n\n    static rotation(angle) {\n        // TODO\n    }\n\n    static shear(s) {\n        // TODO\n    }\n\n    static reflection() {\n        // TODO\n    }\n\n    static projection() {\n        // TODO\n    }\n\n\n    // -------------------------------------------------------------------------\n    // Getters and Methods\n\n    get isSquare() {\n        return this.rows === this.cols;\n    }\n\n    row(i) {\n        return new Vector(this[i]);\n    }\n\n    column(j) {\n        let c = [];\n        for (let i = 0; i < this.rows; ++i) c.push(this[i][j]);\n        return new Vector(c);\n    }\n\n    get transpose() {\n        let newMatrix = [];\n\n        for (var i = 0; i < this.columns; ++i) {\n            this[i] = [];\n            for (let j = 0; j < this.rows; ++j) {\n                newMatrix[i][j] = this[j][i];\n            }\n        }\n\n        return new Matrix(newMatrix);\n    }\n\n    get determinant() {\n        if (!this.isSquare()) throw new Error('Not a square matrix.');\n        let n = this.rows, det = 0;\n\n        if (n === 1) {\n            return this[0][0];\n        } else if (n === 2) {\n            return this[0][0] * this[1][1] - this[0][1] * this[1][0];\n        }\n\n        for (var col = 0; col < this.cols; ++col) {\n            var diagLeft  = this[0][col];\n            var diagRight = this[0][col];\n\n            for (var row=1; row < rows; ++row) {\n                diagRight *= this[row][col + row % n];\n                diagLeft  *= this[row][col - row % n];\n            }\n\n            det += diagRight - diagLeft;\n        }\n\n        return det;\n    }\n\n    scalarMultiply(val) {\n        var result = [];\n        for (var i = 0; i < this.rows; i++) {\n            result[i] = [];\n            for (var j = 0; j < this.columns; j++) {\n                result[i][j] = val * this[i][j];\n            }\n        }\n        return new Matrix(result);\n    }\n\n    get inverse() {\n        // TODO\n    }\n\n\n    // -------------------------------------------------------------------------\n    // Static Methods\n\n    static add(m1, m2) {\n        if (m1.rows !== m2.rows || m1.cols !== m2.cols) throw new Error('Matrix size mismatch');\n\n        var result = [];\n\n        for (var i = 0; i < m1.length; ++i) {\n            result[i] = [];\n            for (var j = 0; j < m1[i].length; ++j) {\n                result[i][j] = m1[i][j] + m2[i][j];\n            }\n        }\n\n        return M.Matrix(result);\n    }\n\n    static productVM(v, m) {\n        return Matrix.productMV(m.transpose, v);\n    }\n\n    static productMV(m, v) {\n        // TODO\n    }\n\n    static productMM(m1, m2) {\n        // TODO\n    }\n\n    static product(a, b) {\n        if (a instanceof Vector && b instanceof Matrix) {\n            return Matrix.productVM(a, b);\n        } else if (a instanceof Matrix && b instanceof Vector) {\n            return Matrix.productMV(a, b);\n        } else if (a instanceof Matrix && b instanceof Matrix) {\n            return Matrix.productMM(a, b);\n        } else {\n            throw new Error('Can\\'t multiply these two objects.');\n        }\n    }\n\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/matrix.js\n **/","// ============================================================================\n// Fermat.js | Number Theory\n// (c) 2015 Mathigon\n// ============================================================================\n\n\n\nimport isInt from 'utilities';\nimport unique from 'arrays';\n\n\nconst smallPrimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97];\n\n\nfunction gcd(first, ...rest) {\n    if (rest.length > 1) {\n        return gcd(first, gcd(...rest));\n    }\n\n    let mod;\n    let a = Math.abs(first);\n    let b = Math.abs(rest[0]);\n\n    while (b) {\n        mod = a % b;\n        a = b;\n        b = mod;\n    }\n\n    return a;\n}\n\nfunction lcm(first, ...rest) {\n    if (rest.length > 1) {\n        return lcm(first, lcm(...rest));\n    }\n\n    let a = Math.abs(first);\n    let b = Math.abs(rest[0]);\n\n    return Math.abs(a * b) / gcd(a, b);\n}\n\nfunction isPrime(n) {\n    if (n <= 1 || !isInt(n)) return false;\n    if (n < 101) return (smallPrimes.indexOf(n) >= 0);\n    if (n % 2 === 0) return false;\n\n    let sqrt = Math.sqrt(n);\n    for (let i = 3; i <= sqrt; i += 2) {\n        if (n % i === 0) return false;\n    }\n\n    return true;\n}\n\nfunction primeFactorisation(n) {\n    if (n === 1) return [];\n    if (isPrime(n)) return [n];\n\n    var maxf = Math.sqrt(n);\n    for (let f = 2; f <= maxf; ++f) {\n        if (n % f === 0) return primeFactorisation(f).concat(primeFactorisation(n / f));\n    }\n}\n\nfunction primeFactors(n) {\n    return unique(primeFactorisation(n));\n}\n\nfunction listPrimes(n = 100) {\n    if (n < 2) return [];\n    let result = [2];\n\n    for (let i = 3; i <= n; i++) {\n        let notMultiple = false;\n        for (let r of result) {\n            notMultiple = notMultiple || (0 === i % r);\n        }\n        if (!notMultiple) result.push(i);\n    }\n\n    return result;\n}\n\n\nexport default { gcd, lcm, isPrime, primeFactorisation, primeFactors, listPrimes };\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/number-theory.js\n **/","// ============================================================================\n// Fermat.js | Numeric Mathematics\n// (c) 2015 Mathigon\n// ============================================================================\n\n\n\n// bisect(function(x){ return Math.cos(x/2); }, 10) => Pi\nfunction bisect(fn, precision = 3, l = 0, h = null) {\n\n    let p = Math.pow(10, -precision);\n    let q = Math.pow(10,  precision);\n\n    let lf = fn(l);\n    let ls = Math.sign(lf);\n    if (ls === 0) return l;\n    let hf, hs;\n\n    if (h == null) {\n        h = 0.5;\n        do {\n            h *= 2;\n            hf = fn(h);\n            hs = Math.sign(hf);\n        } while (hs === ls);\n        if (hs === 0) return h;\n    }\n\n    let x = 0;\n    while (Math.abs(lf) > p && x < 200) {\n\n        let c = (l + h) / 2;\n        let cf = fn(c);\n        let cs = Math.sign(cf);\n        if (cs === 0) return c;\n\n        if (cs === ls) {\n            l = c;\n            lf = cf;\n        } else {\n            h = c;\n            hf = cf;\n        }\n\n        ++x;\n    }\n\n    return Math.round(l * q) * p;\n}\n\n\nexport default { bisect };\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/numeric.js\n **/","// ============================================================================\n// Fermat.js | Random\n// (c) 2015 Mathigon / Philipp Legner\n// ============================================================================\n\n\n\nimport { tabulate, each, square, some } from 'utilities.js';\n\n\n// -----------------------------------------------------------------------------\n// Array Shuffle\n\n// Randomly shuffles the elements in an array\nfunction shuffle(a) {\n    a = a.slice(0); // create copy\n    let j, tmp;\n    for (let i = a.length - 1; i; --i) {\n        j = Math.floor(Math.random() * (i+1));\n        tmp = a[j];\n        a[j] = a[i];\n        a[i] = tmp;\n    }\n    return a;\n}\n\n\n// -----------------------------------------------------------------------------\n// Simple Random Number Generators\n\nfunction integer(a, b = null) {\n    let start = (b == null ? 0 : a);\n    let length = (b == null ? a : b - a + 1);\n    return start + Math.floor(length * Math.random());\n}\n\nfunction intArray(n) {\n    let a = [];\n    for (let i = 0; i < n; ++i) a.push(i);\n    return shuffle(a);\n}\n\n// Choses a random value from weights [2, 5, 3] or { a: 2, b: 5, c: 3 }\n// Total is optional to specify the total of the weights.\n// This is useful if the function is called repeatedly.\nfunction weighted(obj, setTotal = null) {\n    let total = 0;\n    if (setTotal == null) {\n        each(obj, function(x) { total += (+x); });\n    } else {\n        total = setTotal;\n    }\n\n    let rand = Math.random() * total;\n    let curr = 0;\n\n    return some(obj, function(x, i) {\n        curr += obj[i];\n        if (rand <= curr) return i;\n    });\n}\n\n\n\n// -----------------------------------------------------------------------------\n// Smart Random Number Generators\n\nconst smartRandomCache = new Map();\n\n// Avoids returning the same number multiple times in a row\nfunction smart(n, id) {\n    if (!smartRandomCache.has(id)) smartRandomCache.set(id, tabulate(1, n));\n\n    let cache = smartRandomCache.get(id);\n    let x = weighted(cache.map(x => x * x));\n\n    cache[x] -= 1;\n    if (cache[x] <= 0) smartRandomCache.set(id, cache.map(x => x + 1));\n\n    return x;\n}\n\n\n// -----------------------------------------------------------------------------\n// Discrete Distribution\n\nfunction bernoulli(p = 0.5) {\n    p = Math.max(0,Math.min(1,p));\n    return (Math.random() < p ? 1 : 0);\n}\n\nfunction binomial(n = 1, p = 0.5) {\n    let t = 0;\n    for (let i = 0; i < n; ++i) t += bernoulli(p);\n    return t;\n}\n\nfunction poisson(l = 1) {\n    if (l <= 0) return 0;\n    let L = Math.exp(-l), p = 1;\n    for (let k = 0; p > L; ++k) p *= Math.random();\n    return k - 1;\n}\n\n\n// -----------------------------------------------------------------------------\n// Continuous Distribution\n\nfunction uniform(a = 0, b = 1) {\n    return a + (b-a) * Math.random();\n}\n\nfunction normal(m = 0, v = 1) {\n    let u1 = Math.random();\n    let u2 = Math.random();\n    let rand = Math.sqrt( -2 * Math.log(u1) ) * Math.cos( 2 * Math.PI * u2 );\n\n    return rand * Math.sqrt(v) + m;\n}\n\nfunction exponential(l = 1) {\n    return l <= 0 ? 0 : -Math.log(Math.random()) / l;\n}\n\nfunction geometric(p = 0.5) {\n    if (p <= 0 || p > 1) return null;\n    return Math.floor( Math.log(Math.random()) / Math.log(1-p) );\n}\n\nfunction cauchy() {\n    let rr, v1, v2;\n    do {\n        v1 = 2 * Math.random() - 1;\n        v2 = 2 * Math.random() - 1;\n        rr = v1 * v1 + v2 * v2;\n    } while (rr >= 1);\n    return v1/v2;\n}\n\nfunction normalPDF(x, m = 1, v = 0) {\n    return Math.exp(-square(x - m) / (2 * v)) / Math.sqrt(2 * Math.PI * v);\n}\n\n// -----------------------------------------------------------------------------\n\nexport default {\n    integer, intArray, weighted, smart, shuffle, bernoulli, binomial, poisson,\n    uniform, normal, exponential, geometric, cauchy, normalPDF\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/probability.js\n **/","// ============================================================================\n// Fermat.js | Statistics\n// (c) 2015 Mathigon\n// ============================================================================\n\n\n\nimport { square, total } from 'utilities';\n\n\n// -----------------------------------------------------------------------------\n// Mean, Media, Mode\n\nfunction mean(a) {\n    return a.length ? total(a) / a.length : null;\n}\n\nfunction median(values) {\n    let n = values.length;\n    if (!n) return 0;\n\n    let sorted = values.slice(0).sort();\n    return (n % 2 === 1) ? sorted[Math.floor(n/2)] : (sorted[n/2 - 1] + sorted[n/2]) / 2;\n}\n\n// Returns 'null' if no mode exists (multiple values with the same largest count)\nfunction mode(values) {\n    let counts = new Map();\n\n    let modeCount = -1;\n    let result;\n\n    for (let v of values) {\n        if (!counts.has(v)) {\n            counts.set(v, 1);\n        } else {\n            let newCount = counts.get(v) + 1;\n            counts.set(v, newCount);\n            if (newCount > modeCount) {\n                modeCount = newCount;\n                result = v;\n            }\n        }\n    }\n\n    // iterate again to check for 'no mode'\n    for (let i of counts.entries()) {\n        if (i[1] === modeCount && i[0] !== result) {\n                return null;\n        }\n    }\n\n    return result;\n}\n\n\n// -----------------------------------------------------------------------------\n// Variance\n\nfunction variance(values) {\n    if (!values.length) return null;\n    let mean = mean(values);\n\n    let sum = 0;\n    for (let v of values) sum += square(v - mean);\n    return sum / (n - 1);\n}\n\nfunction stdDev(values) {\n    return Math.sqrt(variance(values));\n}\n\n// Determines the covariance of the numbers in two arrays aX and aY\nfunction covariance(aX, aY) {\n    if (aX.length !== aY.length) throw new Error('Array length mismatch');\n    var n = aX.length;\n    var total = 0;\n    for (var i = 0; i < n; i++) total += aX[i] * aY[i];\n    return (total - total(aX) * total(aY) / n) / n;\n}\n\nfunction correlation(aX, aY) {\n    if (aX.length !== aY.length) throw new Error('Array length mismatch');\n    var covarXY = covariance(aX, aY);\n    var stdDevX = stdDev(aX);\n    var stdDevY = stdDev(aY);\n    return covarXY / (stdDevX * stdDevY);\n}\n\n\n// -----------------------------------------------------------------------------\n// Regression\n\nfunction rSquared(source, regression) {\n    let sourceMean = mean(source);\n\n    let residualSquares = source.map((d, i) => square(d - regression[i]));\n    let totalSquares = source.map(d => square(d - sourceMean));\n\n    return 1 - total(residualSquares) / total(totalSquares);\n}\n\nfunction linearRegression(aX, aY) {\n    var n = aX.length;\n\n    var sumX = total(aX);\n    var sumY = total(aY);\n    var sumXY = total(aX.map((d, i) => d * aY[i]));\n    var sumXSquared = total(aX.map(d => d * d));\n\n    var meanX = mean(aX);\n    var meanY = mean(aY);\n\n    var b = (sumXY - 1 / n * sumX * sumY) / (sumXSquared - 1 / n * (sumX * sumX));\n    var a = meanY - b * meanX;\n\n    return (x) => (a + b * x);\n}\n\n// -----------------------------------------------------------------------------\n\nexport default {\n    mean, median, mode, variance, stdDev, covariance,\n    correlation, rSquared, linearRegression\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/statistics.js\n **/","// =============================================================================\n// Fermat.js | Units\n// (c) 2015 Mathigon\n// =============================================================================\n\n\n\n// -----------------------------------------------------------------------------\n// Configuration\n\nconst prefixes = {\n    da: { name: 'deca',  value: 1e1 },\n    h:  { name: 'hecto', value: 1e2 },\n    k:  { name: 'kilo',  value: 1e3 },\n    M:  { name: 'mega',  value: 1e6 },\n    G:  { name: 'giga',  value: 1e9 },\n    T:  { name: 'tera',  value: 1e12 },\n    P:  { name: 'peta',  value: 1e15 },\n    E:  { name: 'exa',   value: 1e18 },\n    Z:  { name: 'zetta', value: 1e21 },\n    Y:  { name: 'yotta', value: 1e24 },\n\n    d:  { name: 'deci',  value: 1e-1 },\n    c:  { name: 'centi', value: 1e-2 },\n    m:  { name: 'milli', value: 1e-3 },\n    u:  { name: 'micro', value: 1e-6 },\n    n:  { name: 'nano',  value: 1e-9 },\n    p:  { name: 'pico',  value: 1e-12 },\n    f:  { name: 'femto', value: 1e-15 },\n    a:  { name: 'atto',  value: 1e-18 },\n    z:  { name: 'zepto', value: 1e-21 },\n    y:  { name: 'yocto', value: 1e-24 }\n};\n\nconst baseUnits = {\n    length: 'm',\n    surface: 'm2',\n    volume: 'm3',\n    mass: 'kg',\n    time: 's',\n    angle: 'rad',\n    current: 'a',\n    temperature: 'K',\n    substance: 'mol',\n    force: 'N',\n    bit: 'b'\n};\n\nconst units = {\n\n    // Length\n    m:  { name: 'meter',    type: 'length', value: 1 },\n    in: { name: 'inch',     type: 'length', value: 0.0254 },\n    ft: { name: 'foot',     type: 'length', value: 0.3048 },\n    yd: { name: 'yard',     type: 'length', value: 0.9144 },\n    mi: { name: 'mile',     type: 'length', value: 1609.344 },\n    AA: { name: 'angstrom', type: 'length', value: 1e-10 },\n\n    // Surface\n    m2:    { name: 'm2',    type: 'surface', power: 2, value: 1 },\n    sqin:  { name: 'sqin',  type: 'surface', power: 2, value: 0.00064516 },\n    sqft:  { name: 'sqft',  type: 'surface', power: 2, value: 0.09290304 },\n    sqyd:  { name: 'sqyd',  type: 'surface', power: 2, value: 0.83612736 },\n    sqmi:  { name: 'sqmi',  type: 'surface', power: 2, value: 2589988.110336 },\n\n    // Volume\n    m3:     { name: 'm3',     type: 'volume', value: 1 },\n    l:      { name: 'litre',  type: 'volume', value: 0.001 },\n    cup:    { name: 'cup',    type: 'volume', value: 0.0002365882 },\n    pint:   { name: 'pint',   type: 'volume', value: 0.0004731765 },\n    quart:  { name: 'quart',  type: 'volume', value: 0.0009463529 },\n    gallon: { name: 'gallon', type: 'volume', value: 0.003785412},\n    barrel: { name: 'barrel', type: 'volume', value: 0.1589873 },\n\n    // Mass\n    g:   { name: 'gram',  type: 'mass', value: 0.001 },\n    ton: { name: 'ton',   type: 'mass', value: 907.18474 },\n    oz:  { name: 'ounce', type: 'mass', value: 28.349523125e-3 },\n    lbm: { name: 'pound', type: 'mass', value: 453.59237e-3 },\n\n    // Time\n    s:   { name: 'second', type: 'time', value: 1 },\n    min: { name: 'minute', type: 'time', value: 60 },\n    h:   { name: 'hour',   type: 'time', value: 3600 },\n    d:   { name: 'day',    type: 'time', value: 86400 },\n    w:   { name: 'week',   type: 'time', value: 604800 },\n    mon: { name: 'month',  type: 'time', value: 2629740 },\n    y:   { name: 'year',   type: 'time', value: 31556900 },\n\n    // Angle\n    rad:  { name: 'rad',   type: 'angle', value: 1 },\n    deg:  { name: 'deg',   type: 'angle', value: 0.017453292519943295769236907684888 },\n    grad: { name: 'grad',  type: 'angle', value: 0.015707963267948966192313216916399 },\n    cyc:  { name: 'cycle', type: 'angle', value: 6.2831853071795864769252867665793 },\n\n    // Electric Current\n    A: {name: 'ampere', type: 'current', value: 1 },\n\n    // Temperature\n    K:    { name: 'kelvin',     type: 'temperature', value: 1 },\n    degC: { name: 'celsius',    type: 'temperature', value: 1, offset: 273.15 },\n    degF: { name: 'fahrenheit', type: 'temperature', value: 1/1.8, offset: 459.67 },\n\n    // Amount of Substance\n    mol: { name: 'mole', type: 'substance', value: 1 },\n\n    // Force\n    N:   { name: 'newton',     type: 'force', value: 1 },\n    lbf: { name: 'poundforce', type: 'force', value: 4.4482216152605 },\n\n    // Binary\n    b: {name: 'bits',  type: 'data', value: 1 },\n    B: {name: 'bytes', type: 'data', value: 8 }\n};\n\n\n// ---------------------------------------------------------------------------------------------\n// Create Regex\n\nconst prefixRegexp = prefixes.keys().join('|');\nconst unitRegexp = units.keys().join('|');\nconst regexp = new RegExp('^(' + prefixRegexp + ')?(' + unitRegexp + ')$');\n\n\n// ---------------------------------------------------------------------------------------------\n// Exports\n\nfunction to(val, fromUnit, toUnit = null) {\n\n    let f = fromUnit.match(regexp);\n    let prefix = f[1];\n    let unit = f[2];\n\n    let prefixValue = prefix ? (prefixes[prefix].value || 0) : 1;\n    let unitValue = units[unit].value || 1;\n    let unitOffset = units[unit].offset || 0;\n\n    let newVal = (val * unitValue + unitOffset) * prefixValue;\n    if (toUnit == null) return newVal;\n\n    f = toUnit.match(regexp);\n    prefix = f[1];\n    unit = f[2];\n\n    prefixValue = prefix ? (prefixes[prefix].value || 0) : 1;\n    unitValue = units[unit].value || 1;\n    unitOffset = units[unit].offset || 0;\n\n    return (newVal / prefixValue - unitOffset) / unitValue;\n}\n\nfunction define(unit) {\n    unit = unit.match(regexp);\n    let prefix = unit[1] ? prefixes[unit[1]].name : '';\n    let name = units[unit[2]].name;\n    return prefix + name;\n}\n\n// ---------------------------------------------------------------------------------------------\n\nexport default { to, define };\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/units.js\n **/"],"sourceRoot":""}